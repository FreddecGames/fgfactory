import{f as k}from"./CYMVvgqh.js";import{u as y,a as x}from"./ByxlmWwB.js";import{f as m,o as c,c as n,a as s,t as h,n as S,h as i,d as C,l as N,r as b,g as B,F as w,i as $,b as u,j as L}from"./COVN_wgt.js";import{_ as M,a as V}from"./DlcPoIGt.js";const I={class:"row gx-2 align-items-center"},z={class:"col"},F={class:"fs-6 text-white"},G={class:"col-auto"},j={class:"text-end"},A={class:"opacity-50"},D={class:"progress bg-dark",style:{height:"3px",width:"75px"}},E={__name:"MilestoneGroup",props:["group"],setup(r){const a=r,l=y(),d=m(()=>l.elems.filter(t=>t.type=="milestone"&&t.group==a.group&&t.count>0).length),_=m(()=>l.elems.filter(t=>t.type=="milestone"&&t.group==a.group).length),e=m(()=>Math.floor(100*d.value/_.value));return(t,o)=>(c(),n("div",I,[s("div",z,[s("span",F,h(t.$t(r.group)),1)]),s("div",G,[s("div",j,[s("span",{class:S({"opacity-50":i(d)<1})},h(i(k)(i(d))),3),C(),s("span",A,"/ "+h(i(k)(i(_))),1)]),s("div",D,[s("div",{class:"progress-bar bg-success",style:N("width:"+i(e)+"%")},null,4)])])]))}},T={type:"button",class:"btn btn-secondary","data-bs-toggle":"dropdown"},q=["src"],H={class:"dropdown-menu p-2",style:{width:"17rem"}},J={class:"row g-3"},K={class:"col-12"},O={class:"row g-1"},P={class:"col-12"},Q={class:"text-subtitle"},R={__name:"MilestoneInfo",props:["id","img"],setup(r){const a=r,l=y(),d=m(()=>l.elems.find(e=>e.id==a.id)),_=m(()=>l.getCosts(d.value));return(e,t)=>{const o=b("font-awesome-icon"),g=M;return c(),n(w,null,[s("button",T,[r.img?(c(),n("img",{key:0,src:r.img,width:"18",height:"18"},null,8,q)):(c(),B(o,{key:1,icon:"fas fa-info-circle","fixed-width":""}))]),s("div",H,[s("div",J,[s("div",K,[s("div",O,[s("div",P,[s("span",Q,h(e.$t("word_costs")),1)]),(c(!0),n(w,null,$(i(_),(f,p)=>(c(),n("div",{key:p,class:"col-12"},[u(g,{id:p,count:f},null,8,["id","count"])]))),128))])])])])],64)}}},U={key:0,class:"row gx-2 align-items-center"},W={class:"col-auto"},X={type:"button",class:"btn btn-secondary",disabled:""},Y={class:"col text-truncate"},Z={class:"opacity-50"},ss={key:1,class:"row gx-2 align-items-center"},ts={class:"col-auto"},os={class:"col text-truncate"},es={class:"text-success"},cs={key:2,class:"row gx-2 align-items-center"},ns={class:"col-auto"},is={class:"col text-truncate"},as={class:"text-white"},ls={class:"col-auto"},ds={__name:"Milestone",props:["id"],setup(r){const a=r,l=y(),d=m(()=>l.elems.find(e=>e.id==a.id)),_=m(()=>l.elems.find(e=>e.type=="manual"&&e.results[a.id]));return(e,t)=>{const o=b("font-awesome-icon"),g=R,f=V;return i(d).unlocked?i(d).count>0?(c(),n("div",ss,[s("div",ts,[u(o,{icon:"fas fa-check-circle","fixed-width":"",class:"text-success"})]),s("div",os,[s("span",es,h(e.$t(i(d).name)),1)])])):(c(),n("div",cs,[s("div",ns,[u(g,{id:i(_).id},null,8,["id"])]),s("div",is,[s("span",as,h(e.$t(i(d).name)),1)]),s("div",ls,[u(f,{id:i(_).id,icon:"fas fa-check-circle"},null,8,["id"])])])):(c(),n("div",U,[s("div",W,[s("button",X,[u(o,{icon:"fas fa-lock","fixed-width":""})])]),s("div",Y,[s("span",Z,h(e.$t("word_locked")),1)])]))}}},rs={class:"container"},_s={class:"row g-3"},us={class:"card"},ms={class:"card-header"},ps={class:"card-body"},hs={class:"row g-1"},$s={__name:"milestones",setup(r){const a=x(),l=y(),d=m(()=>[...new Set(l.elems.filter(t=>(a.showLocked?!0:t.unlocked)&&t.type=="milestone"&&(t.count<1||a.showCompleted)).map(t=>t.group))]),_=function(t){return l.elems.filter(o=>(a.showLocked?!0:o.unlocked)&&o.type=="milestone"&&o.group==t&&o.count>0).map(o=>o.id)},e=function(t){return l.elems.filter(o=>(a.showLocked?!0:o.unlocked)&&o.type=="milestone"&&o.group==t&&o.count<1).map(o=>o.id)};return(t,o)=>{const g=E,f=ds;return c(),n("div",rs,[s("div",_s,[(c(!0),n(w,null,$(i(d),p=>(c(),n("div",{key:p,class:"col-12"},[s("div",us,[s("div",ms,[u(g,{group:p},null,8,["group"])]),s("div",ps,[s("div",hs,[i(a).showCompleted?(c(!0),n(w,{key:0},$(_(p),v=>(c(),n("div",{key:v,class:"col-6 col-lg-3"},[u(f,{id:v},null,8,["id"])]))),128)):L("",!0),(c(!0),n(w,null,$(e(p),v=>(c(),n("div",{key:v,class:"col-12"},[u(f,{id:v},null,8,["id"])]))),128))])])])]))),128))])])}}};export{$s as default};
