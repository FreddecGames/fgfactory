import{_ as X}from"./Cj-6qiLh.js";import{f as I,a as F}from"./CYMVvgqh.js";import{u as C,a as Y}from"./DpAc4zup.js";import{f as d,o as n,c as i,t as v,h as e,r as B,a as t,g as N,F as S,i as E,b as m,j as b,n as A,l as Z,m as tt,d as j,w as R}from"./VKx6-eEe.js";import{_ as T,a as st,b as et,c as ot}from"./BcxyRRCX.js";import{_ as D,a as nt}from"./5PgKfQRf.js";import{_ as ct}from"./C-27JOya.js";const it={class:"opacity-50"},at={__name:"ItemMax",props:["id"],setup(p){const _=p,c=C(),o=d(()=>c.elems.find(l=>l.id==_.id));return(l,u)=>(n(),i("span",it,v(e(I)(e(o).max,"",0)),1))}},lt={type:"button",class:"btn btn-secondary","data-bs-toggle":"dropdown"},dt=["src"],ut={class:"dropdown-menu p-2",style:{width:"17rem"}},_t={class:"row g-3"},rt={key:0,class:"col-12"},mt={class:"row g-1"},pt={class:"col-12"},ht={class:"text-subtitle"},vt={key:1,class:"col-12"},gt={class:"row g-1"},ft={class:"col-12"},wt={class:"text-subtitle"},$t={key:2,class:"col-12"},kt={class:"row g-1"},yt={class:"col-12"},bt={class:"text-subtitle"},xt={key:3,class:"col-12"},St={class:"row g-1"},Ct={class:"col-12"},Et={class:"text-subtitle"},Mt={__name:"ManualInfo",props:["id","img"],setup(p){const _=p,c=C(),o=d(()=>c.elems.find(g=>g.id==_.id)),l=d(()=>c.getCosts(o.value)),u=d(()=>c.getInputs(o.value)),h=d(()=>c.getResults(o.value)),$=d(()=>c.getUpgrades(o.value));return(g,k)=>{const a=B("font-awesome-icon"),s=T,y=st,f=D,M=et;return n(),i(S,null,[t("button",lt,[p.img?(n(),i("img",{key:0,src:p.img,width:"18",height:"18"},null,8,dt)):(n(),N(a,{key:1,icon:"fas fa-info-circle","fixed-width":""}))]),t("div",ut,[t("div",_t,[e(u)?(n(),i("div",rt,[t("div",mt,[t("div",pt,[t("span",ht,v(g.$t("word_inputs")),1)]),(n(!0),i(S,null,E(e(u),(w,x)=>(n(),i("div",{key:x,class:"col-12"},[m(s,{id:x,count:w},null,8,["id","count"])]))),128))])])):b("",!0),e($)?(n(),i("div",vt,[t("div",gt,[t("div",ft,[t("span",wt,v(g.$t("word_upgrades")),1)]),(n(!0),i(S,null,E(e($),(w,x)=>(n(),i("div",{key:x,class:"col-12"},[m(y,{id:x,count:w},null,8,["id","count"])]))),128))])])):b("",!0),e(l)?(n(),i("div",$t,[t("div",kt,[t("div",yt,[t("span",bt,v(g.$t("word_costs")),1)]),(n(!0),i(S,null,E(e(l),(w,x)=>(n(),i("div",{key:x,class:"col-12"},[m(f,{id:x,count:w},null,8,["id","count"])]))),128))])])):b("",!0),e(h)?(n(),i("div",xt,[t("div",St,[t("div",Ct,[t("span",Et,v(g.$t("word_results")),1)]),(n(!0),i(S,null,E(e(h),(w,x)=>(n(),i("div",{key:x,class:"col-12"},[m(M,{id:x,count:w},null,8,["id","count"])]))),128))])])):b("",!0)])])],64)}}},It={__name:"ManualButtonStop",props:["id"],setup(p){const _=p,c=C(),o=d(()=>c.elems.find(k=>k.id==_.id)),l=d(()=>c.getCosts(o.value)),u=d(()=>c.getInputs(o.value)),h=d(()=>c.getUpgrades(o.value)),$=d(()=>o.value.status=="started"),g=function(){if(u.value)for(let k in u.value){let a=c.getElem(k);a.prod+=u.value[k],a.prod=Math.round(a.prod*100)/100}if(l.value)for(let k in l.value){let a=c.getElem(k);a.count+=l.value[k],a.count=Math.round(a.count*100)/100}if(h.value)for(let k in h.value){let a=c.getElem(k);a.count+=h.value[k],a.count=Math.round(a.count*100)/100}o.value.status="waiting",o.value.remainingSeconds=o.value.seconds};return(k,a)=>{const s=B("font-awesome-icon");return n(),i("button",{type:"button",class:A(["btn btn-danger btn-icon",{disabled:!e($)}]),onClick:a[0]||(a[0]=y=>{e($)&&g()})},[m(s,{icon:"fas fa-stop"})],2)}}},Bt={key:0,class:"text-center"},Nt={key:1,class:"text-center text-yellow"},Pt={__name:"ManualSeconds",props:["id"],setup(p){const _=p,c=C(),o=d(()=>c.elems.find(l=>l.id==_.id));return(l,u)=>e(o).status==="waiting"?(n(),i("div",Bt,v(e(F)(e(o).seconds)),1)):(n(),i("div",Nt,v(e(F)(e(o).remainingSeconds)),1))}},jt={class:"progress",style:{height:"3px"}},At={__name:"ManualProgress",props:["id"],setup(p){const _=p,c=C(),o=d(()=>c.elems.find(u=>u.id==_.id)),l=d(()=>o.value.status==="waiting"?0:100-Math.floor(100*o.value.remainingSeconds/o.value.seconds));return(u,h)=>(n(),i("div",jt,[t("div",{class:"progress-bar bg-success",style:Z("width:"+e(l)+"%;")},null,4)]))}},Lt={class:"row gx-2 align-items-center justify-content-end"},Ot=["title"],Vt=["src"],Ut={class:"col text-white text-truncate"},qt={class:"col-auto"},zt={class:"badge d-block text-bg-success",style:{width:"55px"}},Ft={__name:"BlockStorage",props:["id","count"],setup(p){const _=p,c=C(),o=d(()=>c.getElem(_.id));return(l,u)=>(n(),i("div",Lt,[e(o).img!=null?(n(),i("div",{key:0,class:"col-auto",title:l.$t(e(o).name)},[t("img",{src:e(o).img,width:"16",height:"16"},null,8,Vt)],8,Ot)):b("",!0),t("div",Ut,v(l.$t(e(o).name)),1),t("div",qt,[t("span",zt,"+"+v(e(I)(p.count)),1)])]))}},Rt={type:"button",class:"btn btn-secondary","data-bs-toggle":"dropdown"},Tt=["src"],Dt={class:"dropdown-menu p-2",style:{width:"17rem"}},Gt={class:"row g-3"},Ht={key:0,class:"col-12"},Jt={class:"row g-1"},Kt={class:"col-12"},Qt={class:"text-subtitle"},Wt={__name:"StorerInfo",props:["id"],setup(p){const _=p,c=C(),o=d(()=>c.elems.find(h=>h.id==_.id)),l=d(()=>c.elems.find(h=>h.id==o.value.assign.id)),u=d(()=>c.getStorages(o.value));return(h,$)=>{const g=B("font-awesome-icon"),k=Ft;return n(),i(S,null,[t("button",Rt,[e(l).img?(n(),i("img",{key:0,src:e(l).img,width:"18",height:"18"},null,8,Tt)):(n(),N(g,{key:1,icon:"fas fa-info-circle","fixed-width":""}))]),t("div",Dt,[t("div",Gt,[e(u)?(n(),i("div",Ht,[t("div",Jt,[t("div",Kt,[t("span",Qt,v(h.$t("word_storages")),1)]),(n(!0),i(S,null,E(e(u),(a,s)=>(n(),i("div",{key:s,class:"col-12"},[m(k,{id:s,count:a},null,8,["id","count"])]))),128))])])):b("",!0)])])],64)}}},Xt={__name:"AssignName",props:["id"],setup(p){const _=p,c=C(),o=d(()=>c.elems.find(u=>u.id==_.id)),l=d(()=>c.elems.find(u=>u.id==o.value.assign.id));return(u,h)=>v(u.$t(e(l).name))}},Yt={__name:"AssignCount",props:["id"],setup(p){const _=p,c=C(),o=d(()=>c.elems.find(l=>l.id==_.id));return(l,u)=>(n(),i("span",{class:A({"opacity-50":e(o).assign.count==0,"text-white":e(o).assign.count>0})},v(e(I)(e(o).assign.count,"",0)),3))}},Zt={__name:"UnassignButton",props:["id"],setup(p){const _=p,c=C(),o=d(()=>c.elems.find(a=>a.id==_.id)),l=d(()=>c.getCosts(o.value)),u=d(()=>c.getInputs(o.value)),h=d(()=>c.getOutputs(o.value)),$=d(()=>c.getStorages(o.value)),g=d(()=>{if(o.value.assign.count<1)return!1;let a=!0;if(h.value)for(let s in h.value){let f=c.getElem(s).prod-h.value[s];if(f=Math.round(f*100)/100,f<0)return!1}if($.value)for(let s in $.value){let y=c.getElem(s);if(y.max-$.value[s]<y.count)return!1}return a}),k=function(){if(l.value)for(let a in l.value){let s=c.getElem(a);s.count+=l.value[a],s.count>s.max&&(s.count=s.max),s.count=Math.round(s.count*100)/100}if(u.value)for(let a in u.value){let s=c.getElem(a);s.prod+=u.value[a],s.prod=Math.round(s.prod*100)/100}if(h.value)for(let a in h.value){let s=c.getElem(a);s.prod-=h.value[a],s.prod=Math.round(s.prod*100)/100}if($.value)for(let a in $.value){let s=c.getElem(a);s.max-=$.value[a],s.max=Math.round(s.max*100)/100}o.value.assign.count-=1};return(a,s)=>{const y=B("font-awesome-icon");return n(),i("button",{type:"button",class:A(["btn btn-danger",{disabled:!e(g)}]),onClick:s[0]||(s[0]=f=>{e(g)&&k()})},[m(y,{icon:"fas fa-minus-square","fixed-width":""})],2)}}},ts={__name:"AssignButton",props:["id"],setup(p){const _=p,c=C(),o=d(()=>c.elems.find(a=>a.id==_.id)),l=d(()=>c.getCosts(o.value)),u=d(()=>c.getInputs(o.value)),h=d(()=>c.getOutputs(o.value)),$=d(()=>c.getStorages(o.value)),g=d(()=>!(1>c.getAvailableCount(o.value.assign.id)||l.value&&!c.checkCounts(l.value)||u.value&&!c.checkProds(u.value))),k=function(){if(o.value.assign.count+=1,l.value)for(let a in l.value){let s=c.getElem(a);s.count-=l.value[a],s.count=Math.round(s.count*100)/100}if(u.value)for(let a in u.value){let s=c.getElem(a);s.prod-=u.value[a],s.prod=Math.round(s.prod*100)/100}if(h.value)for(let a in h.value){let s=c.getElem(a);s.prod+=h.value[a],s.prod=Math.round(s.prod*100)/100}if($.value)for(let a in $.value){let s=c.getElem(a);s.max+=$.value[a],s.max=Math.round(s.max*100)/100}};return(a,s)=>{const y=B("font-awesome-icon");return n(),i("button",{type:"button",class:A(["btn btn-primary",{disabled:!e(g)}]),onClick:s[0]||(s[0]=f=>{e(g)&&k()})},[m(y,{icon:"fas fa-plus-square","fixed-width":""})],2)}}},ss={__name:"ItemProd",props:["id"],setup(p){const _=p,c=C(),o=d(()=>c.elems.find(l=>l.id==_.id));return(l,u)=>(n(),i("span",{class:A({"opacity-50":e(o).prod==0,"text-success":e(o).prod>0})},"+ "+v(e(I)(e(o).prod))+" /s",3))}},es={class:"row gx-2 align-items-center justify-content-end"},os=["title"],ns=["src"],cs={class:"col text-white text-truncate"},is={class:"col-auto"},as={class:"badge d-block text-bg-success",style:{width:"55px"}},ls={__name:"BlockOutput",props:["id","count"],setup(p){const _=p,c=C(),o=d(()=>c.getElem(_.id));return(l,u)=>(n(),i("div",es,[e(o).img!=null?(n(),i("div",{key:0,class:"col-auto",title:l.$t(e(o).name)},[t("img",{src:e(o).img,width:"16",height:"16"},null,8,ns)],8,os)):b("",!0),t("div",cs,v(l.$t(e(o).name)),1),t("div",is,[t("span",as,"+"+v(e(I)(p.count))+" /s",1)])]))}},ds={type:"button",class:"btn btn-secondary","data-bs-toggle":"dropdown"},us=["src"],_s={class:"dropdown-menu p-2",style:{width:"17rem"}},rs={class:"row g-3"},ms={key:0,class:"col-12"},ps={class:"row g-1"},hs={class:"col-12"},vs={class:"text-subtitle"},gs={key:1,class:"col-12"},fs={class:"row g-1"},ws={class:"col-12"},$s={class:"text-subtitle"},ks={key:2,class:"col-12"},ys={class:"row g-1"},bs={class:"col-12"},xs={class:"text-subtitle"},Ss={__name:"ProducerInfo",props:["id"],setup(p){const _=p,c=C(),o=d(()=>c.elems.find(g=>g.id==_.id)),l=d(()=>c.elems.find(g=>g.id==o.value.assign.id)),u=d(()=>c.getCosts(o.value)),h=d(()=>c.getInputs(o.value)),$=d(()=>c.getOutputs(o.value));return(g,k)=>{const a=B("font-awesome-icon"),s=D,y=T,f=ls;return n(),i(S,null,[t("button",ds,[e(l).img?(n(),i("img",{key:0,src:e(l).img,width:"18",height:"18"},null,8,us)):(n(),N(a,{key:1,icon:"fas fa-info-circle","fixed-width":""}))]),t("div",_s,[t("div",rs,[e(u)?(n(),i("div",ms,[t("div",ps,[t("div",hs,[t("span",vs,v(g.$t("word_costs")),1)]),(n(!0),i(S,null,E(e(u),(M,w)=>(n(),i("div",{key:w,class:"col-12"},[m(s,{id:w,count:M},null,8,["id","count"])]))),128))])])):b("",!0),e(h)?(n(),i("div",gs,[t("div",fs,[t("div",ws,[t("span",$s,v(g.$t("word_inputs")),1)]),(n(!0),i(S,null,E(e(h),(M,w)=>(n(),i("div",{key:w,class:"col-12"},[m(y,{id:w,count:M},null,8,["id","count"])]))),128))])])):b("",!0),e($)?(n(),i("div",ks,[t("div",ys,[t("div",bs,[t("span",xs,v(g.$t("word_outputs")),1)]),(n(!0),i(S,null,E(e($),(M,w)=>(n(),i("div",{key:w,class:"col-12"},[m(f,{id:w,count:M},null,8,["id","count"])]))),128))])])):b("",!0)])])],64)}}},Cs={class:"w-100 h-100 scroll-content"},Es={class:"container"},Ms={class:"row g-3"},Is={class:"col-12"},Bs={class:"card"},Ns={class:"card-header"},Ps={class:"row gx-2 align-items-center"},js={class:"col"},As={class:"fs-6 text-white"},Ls={class:"col-auto"},Os={class:"fs-6 text-white"},Vs={class:"card-body"},Us={class:"row g-3"},qs={key:0,class:"col-12"},zs={class:"row g-1"},Fs={class:"col-12"},Rs={class:"text-subtitle"},Ts={class:"row gx-2 align-items-center"},Ds={class:"col-auto"},Gs={class:"col text-truncate"},Hs={class:"text-white"},Js={class:"col-auto"},Ks={class:"col-auto",style:{width:"65px"}},Qs={class:"col-auto"},Ws={key:1,class:"col-12"},Xs={class:"row g-1"},Ys={class:"col-12"},Zs={class:"text-subtitle"},te={key:0,class:"row gx-2 align-items-center"},se={class:"col-auto"},ee={class:"col text-truncate"},oe={class:"text-white"},ne={class:"col-auto"},ce={class:"col-auto"},ie=t("small",null,"x",-1),ae={class:"col-auto"},le={class:"col-auto"},de={key:1,class:"row gx-2 align-items-center"},ue={class:"col-auto"},_e={type:"button",class:"btn btn-secondary",disabled:""},re={class:"col text-truncate"},me={class:"opacity-50"},pe={key:0,class:"col-12"},he={class:"card"},ve={class:"card-header"},ge={class:"row gx-2 align-items-center justify-content-center"},fe={class:"col"},we={class:"fs-6 text-white"},$e={class:"col-auto"},ke={class:"fs-6 text-white"},ye={class:"card-body"},be={class:"row g-3"},xe={key:0,class:"col-12"},Se={class:"row g-1"},Ce={class:"col-12"},Ee={class:"text-subtitle"},Me={key:0,class:"ms-2 text-success"},Ie={key:0,class:"row gx-2 align-items-center"},Be={class:"col-auto"},Ne={class:"col text-truncate"},Pe={class:"text-white"},je={class:"col-auto"},Ae={class:"col-auto"},Le=t("small",null,"x",-1),Oe={class:"col-auto"},Ve={class:"col-auto"},Ue={key:1,class:"row gx-2 align-items-center"},qe={class:"col-auto"},ze={type:"button",class:"btn btn-secondary",disabled:""},Fe={class:"col text-truncate"},Re={class:"opacity-50"},Te={key:1,class:"col-12"},De={class:"row g-1"},Ge={class:"col-12"},He={class:"text-subtitle"},Je={key:0,class:"ms-2 text-danger"},Ke={class:"row gx-2 align-items-center"},Qe={class:"col-auto"},We=["src"],Xe={class:"col text-truncate"},Ye={class:"text-white"},Ze={class:"col-auto"},to={class:"text-danger"},so={class:"col-auto"},uo={__name:"[id]",setup(p){const _=tt(),c=Y(),o=C(),l=d(()=>o.elems.find(s=>s.type=="item"&&s.id==_.params.id)),u=d(()=>o.elems.filter(s=>(c.showLocked?!0:s.unlocked)&&s.type=="storer"&&s.storages[_.params.id])),h=d(()=>o.elems.filter(s=>(c.showLocked?!0:s.unlocked)&&s.type=="manual"&&s.results[_.params.id])),$=d(()=>o.elems.filter(s=>(c.showLocked?!0:s.unlocked)&&s.type=="producer"&&s.outputs[_.params.id])),g=d(()=>{let s=[];return s=s.concat(o.elems.filter(f=>f.unlocked&&f.type=="producer"&&f.inputs&&f.inputs[_.params.id]&&f.assign.count>0)),o.elems.filter(f=>f.unlocked&&f.type=="generator"&&f.count>0).forEach(f=>{o.elems.filter(w=>w.unlocked&&w.type=="manual"&&w.results[f.id]&&w.inputs&&w.inputs[_.params.id]).forEach(w=>{let x={id:f.id,img:f.img,name:f.name,inputs:w.inputs,assign:{count:f.count}};s.push(x)})}),s}),k=d(()=>{let s=0;return $.value.forEach(y=>{s+=y.assign.count*y.outputs[_.params.id]}),s}),a=d(()=>{let s=0;return g.value.forEach(y=>{s+=y.assign.count*y.inputs[_.params.id]}),s});return(s,y)=>{const f=X,M=at,w=Mt,x=It,G=Pt,H=At,J=nt,K=Wt,L=Xt,O=ot,V=Yt,U=Zt,q=ts,P=B("font-awesome-icon"),Q=ss,W=Ss,z=ct;return n(),i("div",Cs,[t("div",Es,[t("div",Ms,[t("div",Is,[t("div",Bs,[t("div",Ns,[t("div",Ps,[t("div",js,[t("span",As,v(s.$t("word_count")),1)]),t("div",Ls,[t("span",Os,[m(f,{id:e(l).id},null,8,["id"]),j(" / "),m(M,{id:e(l).id},null,8,["id"])])])])]),t("div",Vs,[t("div",Us,[e(h).length>0?(n(),i("div",qs,[t("div",zs,[t("div",Fs,[t("span",Rs,v(s.$t("word_manuals")),1)]),(n(!0),i(S,null,E(e(h),r=>(n(),i("div",{key:r.id,class:"col-12"},[t("div",Ts,[t("div",Ds,[m(w,{id:r.id,img:e(l).img},null,8,["id","img"])]),t("div",Gs,[t("span",Hs,v(s.$t(e(l).name)),1)]),t("div",Js,[m(x,{id:r.id},null,8,["id"])]),t("div",Ks,[m(G,{id:r.id},null,8,["id"]),m(H,{id:r.id},null,8,["id"])]),t("div",Qs,[m(J,{id:r.id,icon:"fas fa-play"},null,8,["id"])])])]))),128))])])):b("",!0),e(u).length>0?(n(),i("div",Ws,[t("div",Xs,[t("div",Ys,[t("span",Zs,v(s.$t("word_storers")),1)]),(n(!0),i(S,null,E(e(u),r=>(n(),i("div",{key:r.id,class:"col-12"},[r.unlocked?(n(),i("div",te,[t("div",se,[m(K,{id:r.id},null,8,["id"])]),t("div",ee,[t("span",oe,[m(L,{id:r.id},null,8,["id"])])]),t("div",ne,[m(O,{id:r.assign.id},null,8,["id"])]),t("div",ce,[ie,j(),m(V,{id:r.id},null,8,["id"])]),t("div",ae,[m(U,{id:r.id},null,8,["id"])]),t("div",le,[m(q,{id:r.id},null,8,["id"])])])):(n(),i("div",de,[t("div",ue,[t("button",_e,[m(P,{icon:"fas fa-lock","fixed-width":""})])]),t("div",re,[t("span",me,v(s.$t("word_locked")),1)])]))]))),128))])])):b("",!0)])])])]),e($).length>0?(n(),i("div",pe,[t("div",he,[t("div",ve,[t("div",ge,[t("div",fe,[t("span",we,v(s.$t("word_prod")),1)]),t("div",$e,[t("span",ke,[m(Q,{id:e(l).id},null,8,["id"])])])])]),t("div",ye,[t("div",be,[e($).length>0?(n(),i("div",xe,[t("div",Se,[t("div",Ce,[t("span",Ee,v(s.$t("word_producers")),1),j(),e(k)!=0?(n(),i("span",Me,"+ "+v(e(I)(e(k)))+" /s",1)):b("",!0)]),(n(!0),i(S,null,E(e($),r=>(n(),i("div",{key:r.id,class:"col-12"},[r.unlocked?(n(),i("div",Ie,[t("div",Be,[m(W,{id:r.id},null,8,["id"])]),t("div",Ne,[t("span",Pe,[m(L,{id:r.id},null,8,["id"])])]),t("div",je,[m(O,{id:r.assign.id},null,8,["id"])]),t("div",Ae,[Le,j(),m(V,{id:r.id},null,8,["id"])]),t("div",Oe,[m(U,{id:r.id},null,8,["id"])]),t("div",Ve,[m(q,{id:r.id},null,8,["id"])])])):(n(),i("div",Ue,[t("div",qe,[t("button",ze,[m(P,{icon:"fas fa-lock","fixed-width":""})])]),t("div",Fe,[t("span",Re,v(s.$t("word_locked")),1)])]))]))),128))])])):b("",!0),e(g).length>0?(n(),i("div",Te,[t("div",De,[t("div",Ge,[t("span",He,v(s.$t("word_consumers")),1),j(),e(a)!=0?(n(),i("span",Je,"- "+v(e(I)(e(a)))+" /s",1)):b("",!0)]),(n(!0),i(S,null,E(e(g),r=>(n(),i("div",{key:r.id,class:"col-12"},[t("div",Ke,[t("div",Qe,[r.img?(n(),i("img",{key:0,src:r.img,width:"18",height:"18"},null,8,We)):(n(),N(P,{key:1,icon:"fas fa-info-circle","fixed-width":""}))]),t("div",Xe,[t("span",Ye,v(s.$t(r.name)),1)]),t("div",Ze,[t("span",to,"- "+v(e(I)(r.assign.count*r.inputs[e(l).id]))+" /s",1)]),t("div",so,[r.mainId?(n(),N(z,{key:0,to:s.localePath("/item/"+r.mainId),class:"w-100 btn btn-primary",title:s.$t(r.name)},{default:R(()=>[m(P,{icon:"fas fa-arrow-right","fixed-width":""})]),_:2},1032,["to","title"])):(n(),N(z,{key:1,to:s.localePath("/buildings/"),class:"w-100 btn btn-primary",title:s.$t(r.name)},{default:R(()=>[m(P,{icon:"fas fa-arrow-right","fixed-width":""})]),_:2},1032,["to","title"]))])])]))),128))])])):b("",!0)])])])])):b("",!0)])])])}}};export{uo as default};
