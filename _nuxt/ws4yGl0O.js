import{f as I,a as q}from"./C1xH3N-8.js";import{u as S,a as F}from"./CGGN3VLd.js";import{f as p,o,c as n,g as t,a as s,h as g,t as v,n as B,r as V,b as m,i as et,j,F as x,k as C,d as T,l as st,v as ot,u as nt}from"./CoRMEb5R.js";const ct={class:"row gx-2 align-items-center"},lt={key:0,class:"col-auto"},it=["src"],at={class:"col text-truncate"},dt={key:0,class:"text-uppercase small"},ut={key:1,class:"text-uppercase small"},_t={key:1,class:"col-auto"},rt={__name:"LineGroup",props:["id"],setup(i){const l=i,c=S(),e=p(()=>c.getElem(l.id)),d=p(()=>e.value?c.getAvailableCount(e.value.id):null);return(u,h)=>(o(),n("div",ct,[t(e)&&t(e).img!=null?(o(),n("div",lt,[s("img",{src:t(e).img,width:"16",height:"16"},null,8,it)])):g("",!0),s("div",at,[t(e)?(o(),n("span",dt,v(u.$t(t(e).name)),1)):(o(),n("span",ut,v(u.$t(i.id)),1))]),t(d)!=null?(o(),n("div",_t,[s("span",{class:B(["badge",{"text-bg-success":t(d)>0,"text-bg-dark":t(d)<=0}])},v(t(I)(t(d))),3)])):g("",!0)]))}},mt={class:"row gx-2 align-items-center justify-content-end"},pt={class:"col-auto"},vt={key:0,class:"col-auto"},gt=["src","title"],ht={class:"col-auto"},O={__name:"BlockCost",props:["id","count"],setup(i){const l=i,c=S(),e=p(()=>c.getElem(l.id));return(d,u)=>(o(),n("div",mt,[s("div",pt,v(d.$t(t(e).name)),1),t(e).img!=null?(o(),n("div",vt,[s("img",{src:t(e).img,width:"16",height:"16",title:d.$t(t(e).name)},null,8,gt)])):g("",!0),s("div",ht,[s("span",{class:B(["badge d-block",{"text-bg-success":t(e).count>=i.count,"text-bg-danger":t(e).count<i.count}]),style:{width:"55px"}},v(t(I)(i.count)),3)])]))}},G={__name:"ButtonDestroy",props:["elem"],setup(i){const l=i,c=S(),e=p(()=>c.getBuildCosts(l.elem)),d=p(()=>c.getBuildInputs(l.elem)),u=p(()=>l.elem.build.status=="started"),h=function(){if(d.value)for(let _ in d.value){let f=c.getElem(_);f.prod+=d.value[_]}if(e.value)for(let _ in e.value){let f=c.getElem(_);f.count+=e.value[_]}l.elem.build.status="waiting",l.elem.build.remainingSeconds=l.elem.build.seconds*l.elem.select.count};return(_,f)=>{const a=V("font-awesome-icon");return o(),n("button",{type:"button",class:B(["btn btn-danger btn-icon",{disabled:!t(u)}]),onClick:f[0]||(f[0]=r=>{t(u)&&h()})},[m(a,{icon:"fas fa-stop"})],2)}}},ft={key:0,class:"text-center"},$t={key:1,class:"text-center text-yellow"},R={__name:"ValueSeconds",props:["elem"],setup(i){return(l,c)=>i.elem.build.status==="waiting"?(o(),n("div",ft,v(t(q)(i.elem.build.seconds*i.elem.select.count)),1)):(o(),n("div",$t,v(t(q)(i.elem.build.remainingSeconds)),1))}},bt={class:"progress",style:{height:"3px"}},H={__name:"ValueProgress",props:["elem"],setup(i){const l=i,c=p(()=>l.elem.build.status==="waiting"?0:100-Math.floor(100*l.elem.build.remainingSeconds/(l.elem.build.seconds*l.elem.select.count)));return(e,d)=>(o(),n("div",bt,[s("div",{class:"progress-bar bg-success",style:et("width:"+t(c)+"%;")},null,4)]))}},J={__name:"ButtonBuild",props:["elem","iconPlay","iconStop"],setup(i){const l=i,c=S(),e=p(()=>c.getBuildCosts(l.elem)),d=p(()=>c.getBuildInputs(l.elem)),u=p(()=>!(l.elem.build.status!="waiting"||l.elem.count+l.elem.select.count>l.elem.max||e.value&&!c.checkElemCounts(e.value)||d.value&&!c.checkElemProds(d.value))),h=function(){if(d.value)for(let _ in d.value){let f=c.getElem(_);f.prod-=d.value[_]}if(e.value)for(let _ in e.value){let f=c.getElem(_);f.count-=e.value[_]}l.elem.build.seconds&&l.elem.build.seconds>0?(l.elem.build.status="started",l.elem.build.remainingSeconds=l.elem.build.seconds*l.elem.select.count):c.onBuild(l.elem)};return(_,f)=>{const a=V("font-awesome-icon");return o(),n("button",{type:"button",class:B(["btn btn-primary btn-icon",{disabled:!t(u)}]),onClick:f[0]||(f[0]=r=>{t(u)&&h()})},[i.elem.build.seconds?(o(),j(a,{key:0,icon:"fas fa-play"})):(o(),j(a,{key:1,icon:"fas fa-check-circle"}))],2)}}},wt={key:0,class:"row gx-2 align-items-center"},yt={class:"position-relative col-auto"},kt={key:0,class:"position-absolute translate-middle lh-1"},xt={class:"dropdown-menu p-2"},Ct={class:"row g-3"},St={class:"col-12"},Et={class:"fs-6 text-white"},Bt={key:0},At={key:0,class:"col-12"},It={class:"row g-2"},Vt={class:"col-auto"},jt={class:"opacity-50 small text-uppercase fw-bold"},Pt={class:"col"},Lt={class:"row g-1"},Mt={class:"col text-truncate"},Dt={class:"text-white"},Nt={key:0,class:"col-auto"},Ot={key:1,class:"col-auto",style:{width:"75px"}},Tt={class:"col-auto"},Ut={key:1,class:"row gx-2 align-items-center"},zt={class:"col text-truncate"},qt={class:"text-success"},Ft={class:"col-auto"},Gt={type:"button",class:"btn btn-success btn-icon",disabled:""},Rt={__name:"LineMilestone",props:["id"],setup(i){const l=i,c=S(),e=p(()=>c.getElem(l.id)),d=p(()=>c.getBuildCosts(e.value));return(u,h)=>{const _=V("font-awesome-icon"),f=O,a=G,r=R,w=H,E=J;return t(e).count<t(e).max?(o(),n("div",wt,[s("div",yt,[t(e).notified?(o(),n("div",kt,[m(_,{icon:"fas fa-certificate",class:"text-success"})])):g("",!0),s("button",{type:"button",class:"btn btn-secondary btn-icon","data-bs-toggle":"dropdown",onClick:h[0]||(h[0]=A=>t(e).notified=!1)},[m(_,{icon:"fas fa-info-circle"})]),s("div",xt,[s("div",Ct,[s("div",St,[s("div",Et,v(u.$t(t(e).name)),1),t(e).desc?(o(),n("div",Bt,v(u.$t(t(e).desc)),1)):g("",!0)]),t(d)?(o(),n("div",At,[s("div",It,[s("div",Vt,[s("span",jt,v(u.$t("word_objective")),1)]),s("div",Pt,[s("div",Lt,[(o(!0),n(x,null,C(t(d),(A,y)=>(o(),n("div",{key:y,class:"col-12"},[m(f,{id:y,count:A},null,8,["id","count"])]))),128))])])])])):g("",!0)])])]),s("div",Mt,[s("span",Dt,v(u.$t(t(e).name)),1)]),t(e).build&&t(e).build.seconds!=null?(o(),n("div",Nt,[m(a,{elem:t(e)},null,8,["elem"])])):g("",!0),t(e).build&&t(e).build.seconds!=null?(o(),n("div",Ot,[m(r,{elem:t(e)},null,8,["elem"]),m(w,{elem:t(e)},null,8,["elem"])])):g("",!0),s("div",Tt,[m(E,{elem:t(e)},null,8,["elem"])])])):(o(),n("div",Ut,[s("div",zt,[s("span",qt,v(u.$t(t(e).name)),1)]),s("div",Ft,[s("button",Gt,[m(_,{icon:"fas fa-check-circle"})])])]))}}},Ht={__name:"ValueCount",props:["elem"],setup(i){return(l,c)=>(o(),n("span",{class:B({"opacity-50":i.elem.count==0,"text-white":i.elem.count>0&&i.elem.count<i.elem.max,"text-danger":i.elem.count>=i.elem.max})},v(t(I)(i.elem.count,"",0)),3))}},K={__name:"ValueMax",props:["elem"],setup(i){return(l,c)=>(o(),n("span",null,v(t(I)(i.elem.max)),1))}},Jt={key:0},Q={__name:"ValueProd",props:["elem"],setup(i){return(l,c)=>(o(),n("span",{class:B({"text-success":i.elem.prod>0,"text-danger":i.elem.prod<0,"opacity-50":i.elem.prod==0})},[i.elem.prod>0?(o(),n("span",Jt,"+")):g("",!0),T(v(t(I)(i.elem.prod))+" /s",1)],2))}},Kt={class:"row gx-2 align-items-center justify-content-end"},Qt={class:"col-auto"},Wt={key:0,class:"col-auto"},Xt=["src"],Yt={class:"col-auto"},U={__name:"BlockInput",props:["id","count"],setup(i){const l=i,c=S(),e=p(()=>c.getElem(l.id));return(d,u)=>(o(),n("div",Kt,[s("div",Qt,v(d.$t(t(e).name)),1),t(e).img!=null?(o(),n("div",Wt,[s("img",{src:t(e).img,width:"16",height:"16"},null,8,Xt)])):g("",!0),s("div",Yt,[s("span",{class:B(["badge d-block",{"text-bg-dark":t(e).prod>=i.count,"text-bg-danger":t(e).prod<i.count}]),style:{width:"55px"}},"+ "+v(t(I)(i.count))+" /s",3)])]))}},Zt={class:"row gx-2 align-items-center justify-content-end"},te={class:"col-auto"},ee={key:0,class:"col-auto"},se=["src"],oe={class:"col-auto"},ne={__name:"BlockResult",props:["id","count"],setup(i){const l=i,c=S(),e=p(()=>c.getElem(l.id));return(d,u)=>(o(),n("div",Zt,[s("div",te,v(d.$t(t(e).name)),1),t(e).img!=null?(o(),n("div",ee,[s("img",{src:t(e).img,width:"16",height:"16"},null,8,se)])):g("",!0),s("div",oe,[s("span",{class:B(["badge d-block",{"text-bg-dark":t(e).count+i.count<=t(e).max,"text-bg-danger":t(e).count+i.count>t(e).max}]),style:{width:"55px"}},"+ "+v(t(I)(i.count)),3)])]))}},ce=["disabled"],le=["value"],z={__name:"ValueSelectCount",props:["elem"],setup(i){const l=i,c=p(()=>{let e=[];return l.elem.select.values.forEach(d=>{e.push({count:d,name:"value_"+d})}),e});return(e,d)=>st((o(),n("select",{"onUpdate:modelValue":d[0]||(d[0]=u=>i.elem.select.count=u),class:"form-control text-end",disabled:t(c).length<=1||i.elem.status&&i.elem.status!="waiting",style:{width:"50px"}},[(o(!0),n(x,null,C(t(c),u=>(o(),n("option",{key:u.count,value:u.count},v(e.$t(u.name)),9,le))),128))],8,ce)),[[ot,i.elem.select.count]])}},ie={class:"row gx-2 align-items-center"},ae={class:"position-relative col-auto"},de={key:0,class:"position-absolute translate-middle lh-1"},ue=["src"],_e={class:"dropdown-menu p-2"},re={class:"row g-3"},me={class:"col-12"},pe={class:"row gx-2 align-items-center"},ve={key:0,class:"col-auto"},ge=["src"],he={class:"col fs-6 text-white"},fe={key:1,class:"col-12"},$e={class:"col-12"},be={class:"row g-1"},we={class:"col-12"},ye={class:"row g-2 align-items-center"},ke={class:"col-auto"},xe={class:"opacity-50 small text-uppercase fw-bold"},Ce={class:"col"},Se={class:"row gx-1 align-items-center justify-content-end"},Ee={class:"col-auto"},Be={key:0,class:"col-auto"},Ae={key:0,class:"col-12"},Ie={class:"row g-2 align-items-center"},Ve={class:"col-auto"},je={class:"opacity-50 small text-uppercase fw-bold"},Pe={class:"col text-end"},Le={key:1,class:"col-12"},Me={class:"row g-1"},De={class:"col-auto"},Ne={class:"opacity-50 small text-uppercase fw-bold"},Oe={class:"col"},Te={key:2,class:"col-12"},Ue={class:"row g-2"},ze={class:"col-auto"},qe={class:"opacity-50 small text-uppercase fw-bold"},Fe={class:"col"},Ge={class:"row g-1"},Re={key:3,class:"col-12"},He={class:"row g-2"},Je={class:"col-auto"},Ke={class:"opacity-50 small text-uppercase fw-bold"},Qe={class:"col"},We={class:"row g-1"},Xe={class:"col text-truncate"},Ye={class:"text-white"},Ze={class:"col-auto"},ts={key:0,class:"col-auto"},es={key:1,class:"col-auto",style:{width:"65px"}},ss={key:2,class:"col-auto"},os={key:3,class:"col-auto"},ns={__name:"LineItem",props:["id"],setup(i){const l=i,c=S(),e=p(()=>c.getElem(l.id)),d=p(()=>c.getBuildCosts(e.value)),u=p(()=>c.getBuildInputs(e.value)),h=p(()=>c.getBuildResults(e.value));return(_,f)=>{const a=V("font-awesome-icon"),r=Ht,w=K,E=Q,A=U,y=O,k=ne,P=G,L=R,M=H,D=z,N=J;return o(),n("div",ie,[s("div",ae,[t(e).notified?(o(),n("div",de,[m(a,{icon:"fas fa-certificate",class:"text-success"})])):g("",!0),s("button",{type:"button",class:"btn btn-secondary btn-icon","data-bs-toggle":"dropdown",onClick:f[0]||(f[0]=b=>t(e).notified=!1)},[t(e).img?(o(),n("img",{key:0,src:t(e).img,width:"24",height:"24"},null,8,ue)):(o(),j(a,{key:1,icon:"fas fa-info-circle"}))]),s("div",_e,[s("div",re,[s("div",me,[s("div",pe,[t(e).img?(o(),n("div",ve,[s("img",{src:t(e).img,width:"16",height:"16"},null,8,ge)])):g("",!0),s("div",he,v(_.$t(t(e).name)),1),t(e).desc?(o(),n("div",fe,v(_.$t(t(e).desc)),1)):g("",!0)])]),s("div",$e,[s("div",be,[s("div",we,[s("div",ye,[s("div",ke,[s("span",xe,v(_.$t("word_count")),1)]),s("div",Ce,[s("div",Se,[s("div",Ee,[m(r,{elem:t(e)},null,8,["elem"])]),t(e).max!=null&&t(e).max!=1/0?(o(),n("div",Be,[T("/ "),m(w,{elem:t(e)},null,8,["elem"])])):g("",!0)])])])]),t(e).prod!=null?(o(),n("div",Ae,[s("div",Ie,[s("div",Ve,[s("span",je,v(_.$t("word_prod")),1)]),s("div",Pe,[m(E,{elem:t(e)},null,8,["elem"])])])])):g("",!0),t(u)?(o(),n("div",Le,[s("div",Me,[s("div",De,[s("span",Ne,v(_.$t("word_input")),1)]),s("div",Oe,[(o(!0),n(x,null,C(t(u),(b,$)=>(o(),n("div",{key:$,class:"col-12"},[m(A,{id:$,count:b},null,8,["id","count"])]))),128))])])])):g("",!0),t(d)?(o(),n("div",Te,[s("div",Ue,[s("div",ze,[s("span",qe,v(_.$t("word_cost")),1)]),s("div",Fe,[s("div",Ge,[(o(!0),n(x,null,C(t(d),(b,$)=>(o(),n("div",{key:$,class:"col-12"},[m(y,{id:$,count:b},null,8,["id","count"])]))),128))])])])])):g("",!0),t(h)?(o(),n("div",Re,[s("div",He,[s("div",Je,[s("span",Ke,v(_.$t("word_result")),1)]),s("div",Qe,[s("div",We,[(o(!0),n(x,null,C(t(h),(b,$)=>(o(),n("div",{key:$,class:"col-12"},[m(k,{id:$,count:b},null,8,["id","count"])]))),128))])])])])):g("",!0)])])])])]),s("div",Xe,[s("span",Ye,v(_.$t(t(e).name)),1)]),s("div",Ze,[m(r,{elem:t(e)},null,8,["elem"])]),t(e).build&&t(e).build.seconds!=null?(o(),n("div",ts,[m(P,{elem:t(e)},null,8,["elem"])])):g("",!0),t(e).build&&t(e).build.seconds!=null?(o(),n("div",es,[m(L,{elem:t(e)},null,8,["elem"]),m(M,{elem:t(e)},null,8,["elem"])])):g("",!0),t(e).select&&t(e).select.values&&t(e).select.values.length>1?(o(),n("div",ss,[m(D,{elem:t(e)},null,8,["elem"])])):g("",!0),t(e).build?(o(),n("div",os,[m(N,{elem:t(e)},null,8,["elem"])])):g("",!0)])}}},cs={class:"row gx-2 align-items-center justify-content-end"},ls={class:"col-auto"},is={key:0,class:"col-auto"},as=["src"],ds={class:"col-auto"},us={class:"badge d-block text-bg-dark",style:{width:"55px"}},W={__name:"BlockOutput",props:["id","count"],setup(i){const l=i,c=S(),e=p(()=>c.getElem(l.id));return(d,u)=>(o(),n("div",cs,[s("div",ls,v(d.$t(t(e).name)),1),t(e).img!=null?(o(),n("div",is,[s("img",{src:t(e).img,width:"16",height:"16"},null,8,as)])):g("",!0),s("div",ds,[s("span",us,"+ "+v(t(I)(i.count))+" /s",1)])]))}},_s={class:"row gx-2 align-items-center justify-content-end"},rs={class:"col-auto"},ms={key:0,class:"col-auto"},ps=["src"],vs={class:"col-auto"},gs={class:"badge d-block text-bg-dark",style:{width:"55px"}},X={__name:"BlockStorage",props:["id","count"],setup(i){const l=i,c=S(),e=p(()=>c.getElem(l.id));return(d,u)=>(o(),n("div",_s,[s("div",rs,v(d.$t(t(e).name)),1),t(e).img!=null?(o(),n("div",ms,[s("img",{src:t(e).img,width:"16",height:"16"},null,8,ps)])):g("",!0),s("div",vs,[s("span",gs,"+ "+v(t(I)(i.count)),1)])]))}},hs=s("small",{class:"opacity-50"},"x",-1),Y={__name:"ValueAssignCount",props:["elem"],setup(i){return(l,c)=>(o(),n("span",{class:B({"opacity-50":i.elem.assign.count==0,"text-white":i.elem.assign.count>0})},[hs,T(" "+v(t(I)(i.elem.assign.count,0)),1)],2))}},Z={__name:"ButtonUnassign",props:["elem"],setup(i){const l=i,c=S(),e=p(()=>c.getAssignCosts(l.elem)),d=p(()=>c.getAssignInputs(l.elem)),u=p(()=>c.getAssignOutputs(l.elem)),h=p(()=>c.getAssignStorages(l.elem)),_=p(()=>{if(l.elem.select.count>l.elem.assign.count)return!1;let a=!0;if(u.value){for(let r in u.value)if(c.getElem(r).prod-u.value[r]<0)return!1}if(h.value)for(let r in h.value){let w=c.getElem(r);if(w.max-h.value[r]<w.count)return!1}return a}),f=function(){if(e.value)for(let a in e.value){let r=c.getElem(a);r.count+=e.value[a],r.count>r.max&&(r.count=r.max)}if(d.value)for(let a in d.value){let r=c.getElem(a);r.prod+=d.value[a]}if(u.value)for(let a in u.value){let r=c.getElem(a);r.prod-=u.value[a]}if(h.value)for(let a in h.value){let r=c.getElem(a);r.max-=h.value[a]}l.elem.assign.count-=l.elem.select.count};return(a,r)=>{const w=V("font-awesome-icon");return o(),n("button",{type:"button",class:B(["btn btn-danger btn-icon",{disabled:!t(_)}]),onClick:r[0]||(r[0]=E=>{t(_)&&f()})},[m(w,{icon:"fas fa-minus-square"})],2)}}},tt={__name:"ButtonAssign",props:["elem"],setup(i){const l=i,c=S(),e=p(()=>c.getAssignCosts(l.elem)),d=p(()=>c.getAssignInputs(l.elem)),u=p(()=>c.getAssignOutputs(l.elem)),h=p(()=>c.getAssignStorages(l.elem)),_=p(()=>{let a=c.getAvailableCount(l.elem.assign.id);return!(l.elem.select.count>a||e.value&&!c.checkElemCounts(e.value)||d.value&&!c.checkElemProds(d.value))}),f=function(){if(l.elem.assign.count+=l.elem.select.count,e.value)for(let a in e.value){let r=c.getElem(a);r.count-=e.value[a]}if(d.value)for(let a in d.value){let r=c.getElem(a);r.prod-=d.value[a]}if(u.value)for(let a in u.value){let r=c.getElem(a);r.prod+=u.value[a]}if(h.value)for(let a in h.value){let r=c.getElem(a);r.max+=h.value[a]}};return(a,r)=>{const w=V("font-awesome-icon");return o(),n("button",{type:"button",class:B(["btn btn-primary btn-icon",{disabled:!t(_)}]),onClick:r[0]||(r[0]=E=>{t(_)&&f()})},[m(w,{icon:"fas fa-plus-square"})],2)}}},fs={class:"row gx-2 align-items-center"},$s={class:"position-relative col-auto"},bs={key:0,class:"position-absolute translate-middle lh-1"},ws=["src"],ys={class:"dropdown-menu p-2"},ks={class:"row g-3"},xs={key:0,class:"col-12"},Cs={class:"row g-2"},Ss={class:"col-auto"},Es={class:"opacity-50 small text-uppercase fw-bold"},Bs={class:"col"},As={class:"row g-1"},Is={key:1,class:"col-12"},Vs={class:"row g-1"},js={class:"col-auto"},Ps={class:"opacity-50 small text-uppercase fw-bold"},Ls={class:"col"},Ms={key:2,class:"col-12"},Ds={class:"row g-1"},Ns={class:"col-auto"},Os={class:"opacity-50 small text-uppercase fw-bold"},Ts={class:"col"},Us={key:3,class:"col-12"},zs={class:"row g-1"},qs={class:"col-auto"},Fs={class:"opacity-50 small text-uppercase fw-bold"},Gs={class:"col"},Rs={class:"col text-truncate text-white"},Hs={class:"col-auto"},Js={class:"col-auto text-end",style:{width:"50px"}},Ks={key:0,class:"col-auto"},Qs={class:"col-auto"},Ws={class:"col-auto"},Xs={__name:"LineProduction",props:["id"],setup(i){const l=i,c=S(),e=p(()=>c.getElem(l.id)),d=p(()=>c.getElem(e.value.assign.output.id)),u=p(()=>c.getAssignCosts(e.value)),h=p(()=>c.getAssignInputs(e.value)),_=p(()=>c.getAssignOutputs(e.value)),f=p(()=>c.getAssignStorages(e.value));return(a,r)=>{const w=V("font-awesome-icon"),E=O,A=U,y=W,k=X,P=Q,L=Y,M=z,D=Z,N=tt;return o(),n("div",fs,[s("div",$s,[t(e).notified?(o(),n("div",bs,[m(w,{icon:"fas fa-certificate",class:"text-success"})])):g("",!0),s("button",{type:"button",class:"btn btn-secondary btn-icon","data-bs-toggle":"dropdown",onClick:r[0]||(r[0]=b=>t(e).notified=!1)},[t(e).img?(o(),n("img",{key:0,src:t(e).img,width:"24",height:"24"},null,8,ws)):(o(),j(w,{key:1,icon:"fas fa-info-circle"}))]),s("div",ys,[s("div",ks,[t(u)?(o(),n("div",xs,[s("div",Cs,[s("div",Ss,[s("span",Es,v(a.$t("word_cost")),1)]),s("div",Bs,[s("div",As,[(o(!0),n(x,null,C(t(u),(b,$)=>(o(),n("div",{key:$,class:"col-12"},[m(E,{id:$,count:b},null,8,["id","count"])]))),128))])])])])):g("",!0),t(h)?(o(),n("div",Is,[s("div",Vs,[s("div",js,[s("span",Ps,v(a.$t("word_input")),1)]),s("div",Ls,[(o(!0),n(x,null,C(t(h),(b,$)=>(o(),n("div",{key:$,class:"col-12"},[m(A,{id:$,count:b},null,8,["id","count"])]))),128))])])])):g("",!0),t(_)?(o(),n("div",Ms,[s("div",Ds,[s("div",Ns,[s("span",Os,v(a.$t("word_output")),1)]),s("div",Ts,[(o(!0),n(x,null,C(t(_),(b,$)=>(o(),n("div",{key:$,class:"col-12"},[m(y,{id:$,count:b},null,8,["id","count"])]))),128))])])])):g("",!0),t(f)?(o(),n("div",Us,[s("div",zs,[s("div",qs,[s("span",Fs,v(a.$t("word_storage")),1)]),s("div",Gs,[(o(!0),n(x,null,C(t(f),(b,$)=>(o(),n("div",{key:$,class:"col-12"},[m(k,{id:$,count:b},null,8,["id","count"])]))),128))])])])):g("",!0)])])]),s("div",Rs,v(a.$t(t(e).name)),1),s("div",Hs,[m(P,{elem:t(d)},null,8,["elem"])]),s("div",Js,[m(L,{elem:t(e)},null,8,["elem"])]),t(e).select.values&&t(e).select.values.length>1?(o(),n("div",Ks,[m(M,{elem:t(e)},null,8,["elem"])])):g("",!0),s("div",Qs,[m(D,{elem:t(e)},null,8,["elem"])]),s("div",Ws,[m(N,{elem:t(e)},null,8,["elem"])])])}}},Ys={class:"row gx-2 align-items-center"},Zs={class:"position-relative col-auto"},to={key:0,class:"position-absolute translate-middle lh-1"},eo=["src"],so={class:"dropdown-menu p-2"},oo={class:"row g-3"},no={key:0,class:"col-12"},co={class:"row g-2"},lo={class:"col-auto"},io={class:"opacity-50 small text-uppercase fw-bold"},ao={class:"col"},uo={class:"row g-1"},_o={key:1,class:"col-12"},ro={class:"row g-1"},mo={class:"col-auto"},po={class:"opacity-50 small text-uppercase fw-bold"},vo={class:"col"},go={key:2,class:"col-12"},ho={class:"row g-1"},fo={class:"col-auto"},$o={class:"opacity-50 small text-uppercase fw-bold"},bo={class:"col"},wo={key:3,class:"col-12"},yo={class:"row g-1"},ko={class:"col-auto"},xo={class:"opacity-50 small text-uppercase fw-bold"},Co={class:"col"},So={class:"col text-truncate text-white"},Eo={class:"col-auto"},Bo={class:"col-auto text-end",style:{width:"50px"}},Ao={key:0,class:"col-auto"},Io={class:"col-auto"},Vo={class:"col-auto"},jo={__name:"LineStorage",props:["id"],setup(i){const l=i,c=S(),e=p(()=>c.getElem(l.id)),d=p(()=>c.getElem(e.value.assign.storage.id)),u=p(()=>c.getAssignCosts(e.value)),h=p(()=>c.getAssignInputs(e.value)),_=p(()=>c.getAssignOutputs(e.value)),f=p(()=>c.getAssignStorages(e.value));return(a,r)=>{const w=V("font-awesome-icon"),E=O,A=U,y=W,k=X,P=K,L=Y,M=z,D=Z,N=tt;return o(),n("div",Ys,[s("div",Zs,[t(e).notified?(o(),n("div",to,[m(w,{icon:"fas fa-certificate",class:"text-success"})])):g("",!0),s("button",{type:"button",class:"btn btn-secondary btn-icon","data-bs-toggle":"dropdown",onClick:r[0]||(r[0]=b=>t(e).notified=!1)},[t(e).img?(o(),n("img",{key:0,src:t(e).img,width:"24",height:"24"},null,8,eo)):(o(),j(w,{key:1,icon:"fas fa-info-circle"}))]),s("div",so,[s("div",oo,[t(u)?(o(),n("div",no,[s("div",co,[s("div",lo,[s("span",io,v(a.$t("word_cost")),1)]),s("div",ao,[s("div",uo,[(o(!0),n(x,null,C(t(u),(b,$)=>(o(),n("div",{key:$,class:"col-12"},[m(E,{id:$,count:b},null,8,["id","count"])]))),128))])])])])):g("",!0),t(h)?(o(),n("div",_o,[s("div",ro,[s("div",mo,[s("span",po,v(a.$t("word_inputs")),1)]),s("div",vo,[(o(!0),n(x,null,C(t(h),(b,$)=>(o(),n("div",{key:$,class:"col-12"},[m(A,{id:$,count:b},null,8,["id","count"])]))),128))])])])):g("",!0),t(_)?(o(),n("div",go,[s("div",ho,[s("div",fo,[s("span",$o,v(a.$t("word_outputs")),1)]),s("div",bo,[(o(!0),n(x,null,C(t(_),(b,$)=>(o(),n("div",{key:$,class:"col-12"},[m(y,{id:$,count:b},null,8,["id","count"])]))),128))])])])):g("",!0),t(f)?(o(),n("div",wo,[s("div",yo,[s("div",ko,[s("span",xo,v(a.$t("word_storage")),1)]),s("div",Co,[(o(!0),n(x,null,C(t(f),(b,$)=>(o(),n("div",{key:$,class:"col-12"},[m(k,{id:$,count:b},null,8,["id","count"])]))),128))])])])):g("",!0)])])]),s("div",So,v(a.$t(t(e).name)),1),s("div",Eo,[m(P,{elem:t(d)},null,8,["elem"])]),s("div",Bo,[m(L,{elem:t(e)},null,8,["elem"])]),t(e).select.values&&t(e).select.values.length>1?(o(),n("div",Ao,[m(M,{elem:t(e)},null,8,["elem"])])):g("",!0),s("div",Io,[m(D,{elem:t(e)},null,8,["elem"])]),s("div",Vo,[m(N,{elem:t(e)},null,8,["elem"])])])}}},Po={key:0,class:"row g-4"},Lo={class:"col-12 text-center"},Mo={key:1,class:"row g-4"},Do={class:"row g-1"},No={class:"col-12"},Oo=["data-bs-target","onClick"],To={class:"row gx-2 align-items-center"},Uo={class:"col-auto"},zo={class:"col-auto"},qo=["id"],Fo={class:"card"},Go={class:"list-group list-group-flush"},Ro={__name:"PaneContent",props:["cat"],setup(i){const l=i,c=F(),e=S(),d=p(()=>[...new Set(e.elems.filter(h=>h.cat==l.cat&&h.unlocked).map(h=>h.group))]),u=function(h){return e.elems.filter(_=>_.cat==l.cat&&_.unlocked&&_.group==h)};return(h,_)=>{const f=V("font-awesome-icon"),a=rt,r=Rt,w=ns,E=Xs,A=jo;return t(d).length<1?(o(),n("div",Po,[s("div",Lo,[s("span",null,v(h.$t("text_nothing")),1)])])):(o(),n("div",Mo,[(o(!0),n(x,null,C(t(d),y=>(o(),n("div",{key:y,class:"col-12"},[s("div",Do,[s("div",No,[s("button",{type:"button",class:"btn p-0 border-0","data-bs-toggle":"collapse","data-bs-target":"#collapse"+y,onClick:k=>t(c).toggleCollapsed(y)},[s("div",To,[s("div",Uo,[m(f,{icon:"fas fa-caret-down",class:"opacity-50"})]),s("div",zo,[m(a,{id:y},null,8,["id"])])])],8,Oo)]),s("div",{id:"collapse"+y,class:B(["collapse col-12",{show:!t(c).isCollapsed(y)}])},[s("div",Fo,[s("div",Go,[(o(!0),n(x,null,C(u(y),k=>(o(),n("div",{key:k.id,class:"list-group-item"},[k.type=="milestone"?(o(),j(r,{key:0,id:k.id},null,8,["id"])):g("",!0),k.type=="item"?(o(),j(w,{key:1,id:k.id},null,8,["id"])):g("",!0),k.type=="recipe"?(o(),j(E,{key:2,id:k.id},null,8,["id"])):g("",!0),k.type=="storage"?(o(),j(A,{key:3,id:k.id},null,8,["id"])):g("",!0)]))),128))])])],10,qo)])]))),128))]))}}},Ho={class:"w-100 h-100 d-flex flex-column"},Jo={class:"container px-lg-3 pb-0"},Ko={class:"nav nav-tabs flex-nowrap",style:{"overflow-x":"auto","overflow-y":"hidden","z-index":"1000"}},Qo=["onClick"],Wo={key:0,class:"position-absolute translate-middle lh-1"},Xo={class:"row gx-2 align-items-center justify-content-center flex-nowrap"},Yo={class:"col-auto"},Zo={class:"col text-truncate"},tn={class:"flex-grow-1 scroll-content py-2"},en={class:"container"},cn={__name:"game",setup(i){nt({title:"page_game"});const l=F(),c=S(),e=p(()=>c.elems.filter(u=>u.type=="cat"&&u.unlocked)),d=p(()=>{let u={};return e.value.forEach(h=>{u[h.id]=c.elems.filter(_=>_.cat==h.id&&_.unlocked&&_.notified).length}),u});return(u,h)=>{const _=V("font-awesome-icon"),f=Ro;return o(),n("div",Ho,[s("div",Jo,[s("div",Ko,[(o(!0),n(x,null,C(t(e),a=>(o(),n("div",{key:a.id,class:"col-3 nav-item"},[s("button",{type:"button",class:B(["w-100 nav-link text-nowrap position-relative",{active:t(l).gameTabId==a.id}]),onClick:r=>t(l).gameTabId=a.id},[t(d)[a.id]>0?(o(),n("div",Wo,[m(_,{icon:"fas fa-certificate",class:"text-success"})])):g("",!0),s("div",Xo,[s("div",Yo,[m(_,{icon:a.icon},null,8,["icon"])]),s("div",Zo,v(u.$t(a.name)),1)])],10,Qo)]))),128))])]),s("div",tn,[s("div",en,[m(f,{cat:t(l).gameTabId},null,8,["cat"])])])])}}};export{cn as default};
