import{_ as A}from"./UNWy-dl1.js";import{_ as B}from"./C_ABXYvq.js";import{v as N,k as S,e as j,f as m,r as E,h as s,o as d,g as D,w as x,a as t,b as n,c as r,j as w,t as _,F as P,i as V,x as F,u as q,D as G,d as M,p as Q,E as T}from"./BxDCtSri.js";import{_ as z,a as H,b as I,c as J}from"./CtmY_hQ7.js";const K=["src"],R={class:"position-absolute lh-1 badge bg-dark",style:{top:"-.25rem",right:"-.5rem"}},W={key:0,class:"position-absolute top-0 start-0 lh-1 small text-success"},X={key:1,class:"w-100 btn btn-secondary",disabled:""},Y={__name:"SidebarButton",props:["id"],setup(f){const h=f,u=N(),i=S(),c=j(),a=m(()=>c.elems.find(g=>g.id==h.id));return(g,b)=>{const v=B,$=E("font-awesome-icon"),k=A;return s(a).unlocked?(d(),D(k,{key:0,to:s(u)("/item/"+f.id),class:"w-100 btn btn-primary position-relative px-0",exactActiveClass:"active",onClick:b[0]||(b[0]=O=>{s(i).sidebarOpen=!1,s(a).notified=!1}),title:g.$t(s(a).name)},{default:x(()=>[t("img",{src:s(a).img,width:"18",height:"18"},null,8,K),t("div",R,[n(v,{id:f.id},null,8,["id"])]),s(a).notified?(d(),r("div",W,[n($,{icon:"fas fa-certificate"})])):w("",!0)]),_:1},8,["to","title"])):(d(),r("button",X,[n($,{icon:"fas fa-lock","fixed-width":""})]))}}},Z={class:"row g-2 justify-content-center"},U={class:"col-12 text-center"},tt={class:"text-subtitle"},st={__name:"SidebarGroup",props:["group"],setup(f){const h=f,u=S(),i=j(),c=m(()=>i.elems.filter(a=>(u.showLocked?!0:a.unlocked)&&a.type=="item"&&a.group==h.group).map(a=>a.id));return(a,g)=>{const b=Y;return d(),r("div",Z,[t("div",U,[t("span",tt,_(a.$t(f.group)),1)]),(d(!0),r(P,null,V(s(c),v=>(d(),r("div",{key:v,class:"col-auto",style:{width:"20%"}},[n(b,{id:v},null,8,["id"])]))),128))])}}},et={class:"w-100 h-100 d-flex align-items-stretch"},ot={class:"p-2 border-bottom border-2 border-translucent d-flex flex-column justify-content-center",style:{"min-height":"54px"}},nt={class:"row gx-2 align-items-center justify-content-lg-center"},it={class:"col col-lg-auto"},at={class:"fs-5 text-white"},lt={class:"col-auto d-lg-none"},ct={class:"py-2 flex-grow-1 scroll-content"},dt={class:"p-2"},rt={class:"row g-2 justify-content-center"},_t={class:"col-6"},pt={class:"ms-2"},ut={key:0,class:"position-absolute lh-1 small text-success",style:{top:"-.25rem",right:"-.25rem"}},mt={key:0,class:"col-6"},ht={class:"ms-2"},ft={key:0,class:"position-absolute lh-1 small text-success",style:{top:"-.25rem",left:"-.25rem"}},gt={key:0,class:"p-2"},bt={class:"row gx-2 align-items-center justify-content-center"},vt={class:"col-auto"},yt={class:"col-auto"},wt={class:"text-white"},kt=["src"],xt={class:"p-2 border-top border-2 border-translucent"},$t={class:"row g-2 justify-content-center"},Ct={class:"col-12 text-center"},St={class:"opacity-75"},jt={class:"col"},Ot=["title"],Lt={class:"col"},At=["title"],Bt=["title"],Nt={class:"col"},Et=["title"],Pt={id:"content",class:"h-100 d-flex flex-column"},Vt={class:"bg-dark border-bottom border-2 border-translucent d-flex flex-column justify-content-center",style:{"min-height":"54px"}},Dt={class:"p-2"},Ft={class:"row g-2 align-items-center flex-nowrap"},qt={class:"col-auto d-lg-none"},Gt={class:"col text-truncate"},Mt={class:"row gx-1 align-items-center flex-nowrap"},Qt={key:0,class:"col-auto"},Tt=["src"],zt={class:"col text-truncate"},Ht={class:"fs-5 text-white"},It={class:"col-auto"},Jt={class:"dropdown"},Kt={type:"button",class:"btn btn-danger","data-bs-toggle":"dropdown","aria-expanded":"false"},Rt={class:"d-none d-lg-inline ms-1"},Wt={class:"dropdown-menu dropdown-menu-end p-2 text-bg-danger text-center"},Xt={class:"col-auto"},Yt={class:"ms-0"},Zt={class:"d-none d-lg-inline ms-2"},Ut={class:"col-auto"},ts={class:"ms-0"},ss={class:"d-none d-lg-inline ms-2"},es={class:"py-2 flex-grow-1 scroll-content"},ls={__name:"home",setup(f){const h=N(),u=F(),i=S(),c=j(),a=m(()=>u.meta.title?u.meta.title:u.params.id&&i.appStatus=="started"?c.elems.find(o=>o.type=="item"&&o.id==u.params.id).name:""),g=m(()=>u.params.id&&i.appStatus=="started"?c.elems.find(o=>o.type=="item"&&o.id==u.params.id).img:null);q({title:a});const b=m(()=>{let e=0;return c.elems.filter(l=>l.unlocked&&l.type=="milestone"&&l.count<1).forEach(l=>{let y=c.elems.find(p=>p.type=="manual"&&p.results[l.id]),C=c.getCosts(y);c.checkCounts(C)&&(e+=1)}),e}),v=m(()=>c.elems.filter(e=>e.unlocked&&e.type=="building").length),$=m(()=>c.elems.filter(e=>e.unlocked&&e.notified&&e.type=="building").length),k=m(()=>c.getElem("energy")),O=m(()=>[...new Set(c.elems.filter(e=>(i.showLocked?!0:e.unlocked)&&e.type=="item").map(e=>e.group))]);return(e,o)=>{const l=E("font-awesome-icon"),y=A,C=B,L=st;return d(),r("div",et,[t("div",{id:"sidebar",class:Q(["h-100 bg-dark border-end border-2 border-translucent d-flex flex-column",{open:s(i).sidebarOpen}])},[t("div",ot,[t("div",nt,[o[6]||(o[6]=t("div",{class:"col-auto"},[t("img",{src:G,width:"24",height:"24",class:"rounded"})],-1)),t("div",it,[t("span",at,_(e.$t("game_title")),1)]),t("div",lt,[t("button",{type:"button",class:"btn btn-secondary",onClick:o[0]||(o[0]=p=>{s(i).sidebarOpen=!1})},[n(l,{icon:"fas fa-times","fixed-width":""})])])])]),t("div",ct,[t("div",dt,[t("div",rt,[t("div",_t,[n(y,{to:s(h)("/milestones"),class:"btn btn-primary position-relative d-flex align-items-center justify-content-center",exactActiveClass:"active",onClick:o[1]||(o[1]=p=>{s(i).sidebarOpen=!1})},{default:x(()=>[n(l,{icon:"fas fa-check-circle","fixed-width":""}),t("span",pt,_(e.$t("page_milestones")),1),s(b)>0?(d(),r("div",ut,[n(l,{icon:"fas fa-check-circle","fixed-width":""})])):w("",!0)]),_:1},8,["to"])]),s(v)>0?(d(),r("div",mt,[n(y,{to:s(h)("/buildings"),class:"btn btn-primary position-relative d-flex align-items-center justify-content-center",exactActiveClass:"active",onClick:o[2]||(o[2]=p=>{s(i).sidebarOpen=!1})},{default:x(()=>[n(l,{icon:"fas fa-industry","fixed-width":""}),t("span",ht,_(e.$t("page_buildings")),1),s($)>0?(d(),r("div",ft,[n(l,{icon:"fas fa-certificate","fixed-width":""})])):w("",!0)]),_:1},8,["to"])])):w("",!0)])]),s(i).showLocked||s(k).unlocked?(d(),r("div",gt,[t("div",bt,[t("div",vt,[t("span",null,_(e.$t(s(k).name)),1)]),t("div",yt,[t("span",wt,[t("img",{src:s(k).img,width:"16",height:"16"},null,8,kt),o[7]||(o[7]=M()),n(C,{id:"energy"})])])])])):w("",!0),(d(!0),r(P,null,V(s(O),p=>(d(),r("div",{key:p,class:"p-2"},[n(L,{group:p},null,8,["group"])]))),128))]),t("div",xt,[t("div",$t,[t("div",Ct,[t("span",St,_(e.$t("options_support")),1)]),t("div",jt,[t("a",{href:"https://www.patreon.com/bePatron?u=61283131",class:"w-100 btn btn-secondary",target:"_blank",title:e.$t("options_patreon")},o[8]||(o[8]=[t("img",{src:z,width:"16",height:"16"},null,-1)]),8,Ot)]),t("div",Lt,[t("a",{href:"https://ko-fi.com/freddecgames",class:"w-100 btn btn-secondary",target:"_blank",title:e.$t("options_kofi")},o[9]||(o[9]=[t("img",{src:H,width:"16",height:"16"},null,-1)]),8,At)]),t("form",{class:"col",action:"https://www.paypal.com/cgi-bin/webscr",method:"post",target:"_blank",title:e.$t("options_paypal")},o[10]||(o[10]=[t("input",{type:"hidden",name:"cmd",value:"_s-xclick"},null,-1),t("input",{type:"hidden",name:"hosted_button_id",value:"7XYD7SJFKQ8M4"},null,-1),t("button",{type:"submit",class:"w-100 btn btn-secondary"},[t("img",{src:I,width:"16",height:"16"})],-1)]),8,Bt),t("div",Nt,[t("a",{href:"https://discord.gg/WhvQvZqyq5",class:"w-100 btn btn-secondary",target:"_blank",title:e.$t("options_discord")},o[11]||(o[11]=[t("img",{src:J,width:"16",height:"16"},null,-1)]),8,Et)])])])],2),t("div",Pt,[t("div",Vt,[t("div",Dt,[t("div",Ft,[t("div",qt,[t("button",{type:"button",class:"btn btn-primary",onClick:o[3]||(o[3]=p=>{s(i).sidebarOpen=!0})},[n(l,{icon:"fas fa-bars","fixed-width":""})])]),t("div",Gt,[t("div",Mt,[s(g)?(d(),r("div",Qt,[t("img",{src:s(g),width:"24",height:"24"},null,8,Tt)])):w("",!0),t("div",zt,[t("span",Ht,_(e.$t(s(a))),1)])])]),t("div",It,[t("div",Jt,[t("button",Kt,[n(l,{icon:"fas fa-exclamation-triangle","fixed-width":""}),t("span",Rt,"v"+_(s(i).version),1)]),t("div",Wt," v"+_(s(i).version)+" - "+_(e.$t("disclaimer_text")),1)])]),t("div",Xt,[n(y,{to:s(h)("/scenarios"),class:"btn btn-primary d-flex align-items-center",exactActiveClass:"active",onClick:o[4]||(o[4]=p=>{s(i).sidebarOpen=!1})},{default:x(()=>[t("span",Yt,[n(l,{icon:"fas fa-list","fixed-width":""})]),t("span",Zt,_(e.$t("page_scenarios")),1)]),_:1},8,["to"])]),t("div",Ut,[n(y,{to:s(h)("/options"),class:"btn btn-primary d-flex align-items-center",exactActiveClass:"active",onClick:o[5]||(o[5]=p=>{s(i).sidebarOpen=!1})},{default:x(()=>[t("span",ts,[n(l,{icon:"fas fa-cog","fixed-width":""})]),t("span",ss,_(e.$t("page_options")),1)]),_:1},8,["to"])])])])]),t("div",es,[T(e.$slots,"default")])])])}}};export{ls as default};
