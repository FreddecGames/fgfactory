import{_ as W}from"./D0-jauTK.js";import{f as I,a as L}from"./CYMVvgqh.js";import{u as S}from"./C9C9swEq.js";import{f as d,o as i,c as l,t as g,h as e,r as B,a as t,g as N,F as x,i as M,b as p,j as b,n as j,l as X,m as Y,d as P,w as R}from"./D6RvJslP.js";import{_ as T,a as Z,b as tt,c as st}from"./ByhnyvOp.js";import{_ as D,a as et}from"./DlvDKjV_.js";import{_ as ot}from"./KZmic_Dc.js";const nt={class:"opacity-50"},ct={__name:"ItemMax",props:["id"],setup(h){const _=h,o=S(),n=d(()=>o.elems.find(a=>a.id==_.id));return(a,u)=>(i(),l("span",nt,g(e(I)(e(n).max,"",0)),1))}},it={type:"button",class:"btn btn-secondary","data-bs-toggle":"dropdown"},lt=["src"],at={class:"dropdown-menu p-2",style:{width:"17rem"}},dt={class:"row g-3"},ut={key:0,class:"col-12"},_t={class:"row g-1"},rt={class:"col-12"},mt={class:"text-subtitle"},pt={key:1,class:"col-12"},ht={class:"row g-1"},vt={class:"col-12"},gt={class:"text-subtitle"},ft={key:2,class:"col-12"},wt={class:"row g-1"},$t={class:"col-12"},yt={class:"text-subtitle"},kt={key:3,class:"col-12"},bt={class:"row g-1"},xt={class:"col-12"},St={class:"text-subtitle"},Ct={__name:"ManualInfo",props:["id","img"],setup(h){const _=h,o=S(),n=d(()=>o.elems.find(f=>f.id==_.id)),a=d(()=>o.getCosts(n.value)),u=d(()=>o.getInputs(n.value)),r=d(()=>o.getResults(n.value)),w=d(()=>o.getUpgrades(n.value));return(f,$)=>{const s=B("font-awesome-icon"),c=T,v=Z,C=D,k=tt;return i(),l(x,null,[t("button",it,[h.img?(i(),l("img",{key:0,src:h.img,width:"18",height:"18"},null,8,lt)):(i(),N(s,{key:1,icon:"fas fa-info-circle","fixed-width":""}))]),t("div",at,[t("div",dt,[e(u)?(i(),l("div",ut,[t("div",_t,[t("div",rt,[t("span",mt,g(f.$t("word_inputs")),1)]),(i(!0),l(x,null,M(e(u),(y,E)=>(i(),l("div",{key:E,class:"col-12"},[p(c,{id:E,count:y},null,8,["id","count"])]))),128))])])):b("",!0),e(w)?(i(),l("div",pt,[t("div",ht,[t("div",vt,[t("span",gt,g(f.$t("word_upgrades")),1)]),(i(!0),l(x,null,M(e(w),(y,E)=>(i(),l("div",{key:E,class:"col-12"},[p(v,{id:E,count:y},null,8,["id","count"])]))),128))])])):b("",!0),e(a)?(i(),l("div",ft,[t("div",wt,[t("div",$t,[t("span",yt,g(f.$t("word_costs")),1)]),(i(!0),l(x,null,M(e(a),(y,E)=>(i(),l("div",{key:E,class:"col-12"},[p(C,{id:E,count:y},null,8,["id","count"])]))),128))])])):b("",!0),e(r)?(i(),l("div",kt,[t("div",bt,[t("div",xt,[t("span",St,g(f.$t("word_results")),1)]),(i(!0),l(x,null,M(e(r),(y,E)=>(i(),l("div",{key:E,class:"col-12"},[p(k,{id:E,count:y},null,8,["id","count"])]))),128))])])):b("",!0)])])],64)}}},Et={__name:"ManualButtonStop",props:["id"],setup(h){const _=h,o=S(),n=d(()=>o.elems.find($=>$.id==_.id)),a=d(()=>o.getCosts(n.value)),u=d(()=>o.getInputs(n.value)),r=d(()=>o.getUpgrades(n.value)),w=d(()=>n.value.status=="started"),f=function(){if(u.value)for(let $ in u.value){let s=o.getElem($);s.prod+=u.value[$],s.prod=Math.round(s.prod*100)/100}if(a.value)for(let $ in a.value){let s=o.getElem($);s.count+=a.value[$],s.count=Math.round(s.count*100)/100}if(r.value)for(let $ in r.value){let s=o.getElem($);s.count+=r.value[$],s.count=Math.round(s.count*100)/100}n.value.status="waiting",n.value.remainingSeconds=n.value.seconds};return($,s)=>{const c=B("font-awesome-icon");return i(),l("button",{type:"button",class:j(["btn btn-danger btn-icon",{disabled:!e(w)}]),onClick:s[0]||(s[0]=v=>{e(w)&&f()})},[p(c,{icon:"fas fa-stop"})],2)}}},Mt={key:0,class:"text-center"},It={key:1,class:"text-center text-yellow"},Bt={__name:"ManualSeconds",props:["id"],setup(h){const _=h,o=S(),n=d(()=>o.elems.find(a=>a.id==_.id));return(a,u)=>e(n).status==="waiting"?(i(),l("div",Mt,g(e(L)(e(n).seconds)),1)):(i(),l("div",It,g(e(L)(e(n).remainingSeconds)),1))}},Nt={class:"progress",style:{height:"3px"}},Pt={__name:"ManualProgress",props:["id"],setup(h){const _=h,o=S(),n=d(()=>o.elems.find(u=>u.id==_.id)),a=d(()=>n.value.status==="waiting"?0:100-Math.floor(100*n.value.remainingSeconds/n.value.seconds));return(u,r)=>(i(),l("div",Nt,[t("div",{class:"progress-bar bg-success",style:X("width:"+e(a)+"%;")},null,4)]))}},jt={class:"row gx-2 align-items-center justify-content-end"},At=["title"],Ot=["src"],Vt={class:"col text-white text-truncate"},Ut={class:"col-auto"},qt={class:"badge d-block text-bg-success",style:{width:"55px"}},zt={__name:"BlockStorage",props:["id","count"],setup(h){const _=h,o=S(),n=d(()=>o.getElem(_.id));return(a,u)=>(i(),l("div",jt,[e(n).img!=null?(i(),l("div",{key:0,class:"col-auto",title:a.$t(e(n).name)},[t("img",{src:e(n).img,width:"16",height:"16"},null,8,Ot)],8,At)):b("",!0),t("div",Vt,g(a.$t(e(n).name)),1),t("div",Ut,[t("span",qt,"+"+g(e(I)(h.count)),1)])]))}},Ft={type:"button",class:"btn btn-secondary","data-bs-toggle":"dropdown"},Lt=["src"],Rt={class:"dropdown-menu p-2",style:{width:"17rem"}},Tt={class:"row g-3"},Dt={key:0,class:"col-12"},Gt={class:"row g-1"},Ht={class:"col-12"},Jt={class:"text-subtitle"},Kt={__name:"StorerInfo",props:["id"],setup(h){const _=h,o=S(),n=d(()=>o.elems.find(r=>r.id==_.id)),a=d(()=>o.elems.find(r=>r.id==n.value.assign.id)),u=d(()=>o.getStorages(n.value));return(r,w)=>{const f=B("font-awesome-icon"),$=zt;return i(),l(x,null,[t("button",Ft,[e(a).img?(i(),l("img",{key:0,src:e(a).img,width:"18",height:"18"},null,8,Lt)):(i(),N(f,{key:1,icon:"fas fa-info-circle","fixed-width":""}))]),t("div",Rt,[t("div",Tt,[e(u)?(i(),l("div",Dt,[t("div",Gt,[t("div",Ht,[t("span",Jt,g(r.$t("word_storages")),1)]),(i(!0),l(x,null,M(e(u),(s,c)=>(i(),l("div",{key:c,class:"col-12"},[p($,{id:c,count:s},null,8,["id","count"])]))),128))])])):b("",!0)])])],64)}}},Qt={__name:"AssignName",props:["id"],setup(h){const _=h,o=S(),n=d(()=>o.elems.find(u=>u.id==_.id)),a=d(()=>o.elems.find(u=>u.id==n.value.assign.id));return(u,r)=>g(u.$t(e(a).name))}},Wt={__name:"AssignCount",props:["id"],setup(h){const _=h,o=S(),n=d(()=>o.elems.find(a=>a.id==_.id));return(a,u)=>(i(),l("span",{class:j({"opacity-50":e(n).assign.count==0,"text-white":e(n).assign.count>0})},g(e(I)(e(n).assign.count,"",0)),3))}},Xt={__name:"UnassignButton",props:["id"],setup(h){const _=h,o=S(),n=d(()=>o.elems.find(s=>s.id==_.id)),a=d(()=>o.getCosts(n.value)),u=d(()=>o.getInputs(n.value)),r=d(()=>o.getOutputs(n.value)),w=d(()=>o.getStorages(n.value)),f=d(()=>{if(n.value.assign.count<1)return!1;let s=!0;if(r.value)for(let c in r.value){let C=o.getElem(c).prod-r.value[c];if(C=Math.round(C*100)/100,C<0)return!1}if(w.value)for(let c in w.value){let v=o.getElem(c);if(v.max-w.value[c]<v.count)return!1}return s}),$=function(){if(a.value)for(let s in a.value){let c=o.getElem(s);c.count+=a.value[s],c.count>c.max&&(c.count=c.max),c.count=Math.round(c.count*100)/100}if(u.value)for(let s in u.value){let c=o.getElem(s);c.prod+=u.value[s],c.prod=Math.round(c.prod*100)/100}if(r.value)for(let s in r.value){let c=o.getElem(s);c.prod-=r.value[s],c.prod=Math.round(c.prod*100)/100}if(w.value)for(let s in w.value){let c=o.getElem(s);c.max-=w.value[s],c.max=Math.round(c.max*100)/100}n.value.assign.count-=1};return(s,c)=>{const v=B("font-awesome-icon");return i(),l("button",{type:"button",class:j(["btn btn-danger",{disabled:!e(f)}]),onClick:c[0]||(c[0]=C=>{e(f)&&$()})},[p(v,{icon:"fas fa-minus-square","fixed-width":""})],2)}}},Yt={__name:"AssignButton",props:["id"],setup(h){const _=h,o=S(),n=d(()=>o.elems.find(s=>s.id==_.id)),a=d(()=>o.getCosts(n.value)),u=d(()=>o.getInputs(n.value)),r=d(()=>o.getOutputs(n.value)),w=d(()=>o.getStorages(n.value)),f=d(()=>!(1>o.getAvailableCount(n.value.assign.id)||a.value&&!o.checkCounts(a.value)||u.value&&!o.checkProds(u.value))),$=function(){if(n.value.assign.count+=1,a.value)for(let s in a.value){let c=o.getElem(s);c.count-=a.value[s],c.count=Math.round(c.count*100)/100}if(u.value)for(let s in u.value){let c=o.getElem(s);c.prod-=u.value[s],c.prod=Math.round(c.prod*100)/100}if(r.value)for(let s in r.value){let c=o.getElem(s);c.prod+=r.value[s],c.prod=Math.round(c.prod*100)/100}if(w.value)for(let s in w.value){let c=o.getElem(s);c.max+=w.value[s],c.max=Math.round(c.max*100)/100}};return(s,c)=>{const v=B("font-awesome-icon");return i(),l("button",{type:"button",class:j(["btn btn-primary",{disabled:!e(f)}]),onClick:c[0]||(c[0]=C=>{e(f)&&$()})},[p(v,{icon:"fas fa-plus-square","fixed-width":""})],2)}}},Zt={__name:"ItemProd",props:["id"],setup(h){const _=h,o=S(),n=d(()=>o.elems.find(a=>a.id==_.id));return(a,u)=>(i(),l("span",{class:j({"opacity-50":e(n).prod==0,"text-success":e(n).prod>0})},"+ "+g(e(I)(e(n).prod))+" /s",3))}},ts={class:"row gx-2 align-items-center justify-content-end"},ss=["title"],es=["src"],os={class:"col text-white text-truncate"},ns={class:"col-auto"},cs={class:"badge d-block text-bg-success",style:{width:"55px"}},is={__name:"BlockOutput",props:["id","count"],setup(h){const _=h,o=S(),n=d(()=>o.getElem(_.id));return(a,u)=>(i(),l("div",ts,[e(n).img!=null?(i(),l("div",{key:0,class:"col-auto",title:a.$t(e(n).name)},[t("img",{src:e(n).img,width:"16",height:"16"},null,8,es)],8,ss)):b("",!0),t("div",os,g(a.$t(e(n).name)),1),t("div",ns,[t("span",cs,"+"+g(e(I)(h.count))+" /s",1)])]))}},ls={type:"button",class:"btn btn-secondary","data-bs-toggle":"dropdown"},as=["src"],ds={class:"dropdown-menu p-2",style:{width:"17rem"}},us={class:"row g-3"},_s={key:0,class:"col-12"},rs={class:"row g-1"},ms={class:"col-12"},ps={class:"text-subtitle"},hs={key:1,class:"col-12"},vs={class:"row g-1"},gs={class:"col-12"},fs={class:"text-subtitle"},ws={key:2,class:"col-12"},$s={class:"row g-1"},ys={class:"col-12"},ks={class:"text-subtitle"},bs={__name:"ProducerInfo",props:["id"],setup(h){const _=h,o=S(),n=d(()=>o.elems.find(f=>f.id==_.id)),a=d(()=>o.elems.find(f=>f.id==n.value.assign.id)),u=d(()=>o.getCosts(n.value)),r=d(()=>o.getInputs(n.value)),w=d(()=>o.getOutputs(n.value));return(f,$)=>{const s=B("font-awesome-icon"),c=D,v=T,C=is;return i(),l(x,null,[t("button",ls,[e(a).img?(i(),l("img",{key:0,src:e(a).img,width:"18",height:"18"},null,8,as)):(i(),N(s,{key:1,icon:"fas fa-info-circle","fixed-width":""}))]),t("div",ds,[t("div",us,[e(u)?(i(),l("div",_s,[t("div",rs,[t("div",ms,[t("span",ps,g(f.$t("word_costs")),1)]),(i(!0),l(x,null,M(e(u),(k,y)=>(i(),l("div",{key:y,class:"col-12"},[p(c,{id:y,count:k},null,8,["id","count"])]))),128))])])):b("",!0),e(r)?(i(),l("div",hs,[t("div",vs,[t("div",gs,[t("span",fs,g(f.$t("word_inputs")),1)]),(i(!0),l(x,null,M(e(r),(k,y)=>(i(),l("div",{key:y,class:"col-12"},[p(v,{id:y,count:k},null,8,["id","count"])]))),128))])])):b("",!0),e(w)?(i(),l("div",ws,[t("div",$s,[t("div",ys,[t("span",ks,g(f.$t("word_outputs")),1)]),(i(!0),l(x,null,M(e(w),(k,y)=>(i(),l("div",{key:y,class:"col-12"},[p(C,{id:y,count:k},null,8,["id","count"])]))),128))])])):b("",!0)])])],64)}}},xs={class:"w-100 h-100 scroll-content"},Ss={class:"container"},Cs={class:"row g-3"},Es={class:"col-12"},Ms={class:"card"},Is={class:"card-header"},Bs={class:"row gx-2 align-items-center"},Ns={class:"col"},Ps={class:"fs-6 text-white"},js={class:"col-auto"},As={class:"fs-6 text-white"},Os={class:"card-body"},Vs={class:"row g-3"},Us={key:0,class:"col-12"},qs={class:"row g-1"},zs={class:"col-12"},Fs={class:"text-subtitle"},Ls={class:"row gx-2 align-items-center"},Rs={class:"col-auto"},Ts={class:"col text-truncate"},Ds={class:"text-white"},Gs={class:"col-auto"},Hs={class:"col-auto",style:{width:"65px"}},Js={class:"col-auto"},Ks={key:1,class:"col-12"},Qs={class:"row g-1"},Ws={class:"col-12"},Xs={class:"text-subtitle"},Ys={class:"row gx-2 align-items-center"},Zs={class:"col-auto"},te={class:"col text-truncate"},se={class:"text-white"},ee={class:"col-auto"},oe={class:"col-auto"},ne=t("small",null,"x",-1),ce={class:"col-auto"},ie={class:"col-auto"},le={key:0,class:"col-12"},ae={class:"card"},de={class:"card-header"},ue={class:"row gx-2 align-items-center justify-content-center"},_e={class:"col"},re={class:"fs-6 text-white"},me={class:"col-auto"},pe={class:"fs-6 text-white"},he={class:"card-body"},ve={class:"row g-3"},ge={key:0,class:"col-12"},fe={class:"row g-1"},we={class:"col-12"},$e={class:"text-subtitle"},ye={key:0,class:"ms-2 text-success"},ke={class:"row gx-2 align-items-center"},be={class:"col-auto"},xe={class:"col text-truncate"},Se={class:"text-white"},Ce={class:"col-auto"},Ee={class:"col-auto"},Me=t("small",null,"x",-1),Ie={class:"col-auto"},Be={class:"col-auto"},Ne={key:1,class:"col-12"},Pe={class:"row g-1"},je={class:"col-12"},Ae={class:"text-subtitle"},Oe={key:0,class:"ms-2 text-danger"},Ve={class:"row gx-2 align-items-center"},Ue={class:"col-auto"},qe=["src"],ze={class:"col text-truncate"},Fe={class:"text-white"},Le={class:"col-auto"},Re={class:"text-danger"},Te={class:"col-auto"},Xe={__name:"[id]",setup(h){const _=Y(),o=S(),n=d(()=>o.elems.find(s=>s.type=="item"&&s.id==_.params.id)),a=d(()=>o.elems.filter(s=>s.unlocked&&s.type=="storer"&&s.storages[_.params.id])),u=d(()=>o.elems.filter(s=>s.unlocked&&s.type=="manual"&&s.results[_.params.id])),r=d(()=>o.elems.filter(s=>s.unlocked&&s.type=="producer"&&s.outputs[_.params.id])),w=d(()=>{let s=[];return s=s.concat(o.elems.filter(v=>v.unlocked&&v.type=="producer"&&v.inputs&&v.inputs[_.params.id]&&v.assign.count>0)),o.elems.filter(v=>v.unlocked&&v.type=="generator"&&v.count>0).forEach(v=>{o.elems.filter(k=>k.unlocked&&k.type=="manual"&&k.results[v.id]&&k.inputs&&k.inputs[_.params.id]).forEach(k=>{let y={id:v.id,img:v.img,name:v.name,inputs:k.inputs,assign:{count:v.count}};s.push(y)})}),s}),f=d(()=>{let s=0;return r.value.forEach(c=>{s+=c.assign.count*c.outputs[_.params.id]}),s}),$=d(()=>{let s=0;return w.value.forEach(c=>{s+=c.assign.count*c.inputs[_.params.id]}),s});return(s,c)=>{const v=W,C=ct,k=Ct,y=Et,E=Bt,G=Pt,H=et,J=Kt,O=Qt,V=st,U=Wt,q=Xt,z=Yt,K=Zt,Q=bs,A=B("font-awesome-icon"),F=ot;return i(),l("div",xs,[t("div",Ss,[t("div",Cs,[t("div",Es,[t("div",Ms,[t("div",Is,[t("div",Bs,[t("div",Ns,[t("span",Ps,g(s.$t("word_count")),1)]),t("div",js,[t("span",As,[p(v,{id:e(n).id},null,8,["id"]),P(" / "),p(C,{id:e(n).id},null,8,["id"])])])])]),t("div",Os,[t("div",Vs,[e(u).length>0?(i(),l("div",Us,[t("div",qs,[t("div",zs,[t("span",Fs,g(s.$t("word_manuals")),1)]),(i(!0),l(x,null,M(e(u),m=>(i(),l("div",{key:m.id,class:"col-12"},[t("div",Ls,[t("div",Rs,[p(k,{id:m.id,img:e(n).img},null,8,["id","img"])]),t("div",Ts,[t("span",Ds,g(s.$t(e(n).name)),1)]),t("div",Gs,[p(y,{id:m.id},null,8,["id"])]),t("div",Hs,[p(E,{id:m.id},null,8,["id"]),p(G,{id:m.id},null,8,["id"])]),t("div",Js,[p(H,{id:m.id,icon:"fas fa-play"},null,8,["id"])])])]))),128))])])):b("",!0),e(a).length>0?(i(),l("div",Ks,[t("div",Qs,[t("div",Ws,[t("span",Xs,g(s.$t("word_storers")),1)]),(i(!0),l(x,null,M(e(a),m=>(i(),l("div",{key:m.id,class:"col-12"},[t("div",Ys,[t("div",Zs,[p(J,{id:m.id},null,8,["id"])]),t("div",te,[t("span",se,[p(O,{id:m.id},null,8,["id"])])]),t("div",ee,[p(V,{id:m.assign.id},null,8,["id"])]),t("div",oe,[ne,P(),p(U,{id:m.id},null,8,["id"])]),t("div",ce,[p(q,{id:m.id},null,8,["id"])]),t("div",ie,[p(z,{id:m.id},null,8,["id"])])])]))),128))])])):b("",!0)])])])]),e(r).length>0?(i(),l("div",le,[t("div",ae,[t("div",de,[t("div",ue,[t("div",_e,[t("span",re,g(s.$t("word_prod")),1)]),t("div",me,[t("span",pe,[p(K,{id:e(n).id},null,8,["id"])])])])]),t("div",he,[t("div",ve,[e(r).length>0?(i(),l("div",ge,[t("div",fe,[t("div",we,[t("span",$e,g(s.$t("word_producers")),1),P(),e(f)!=0?(i(),l("span",ye,"+ "+g(e(I)(e(f)))+" /s",1)):b("",!0)]),(i(!0),l(x,null,M(e(r),m=>(i(),l("div",{key:m.id,class:"col-12"},[t("div",ke,[t("div",be,[p(Q,{id:m.id},null,8,["id"])]),t("div",xe,[t("span",Se,[p(O,{id:m.id},null,8,["id"])])]),t("div",Ce,[p(V,{id:m.assign.id},null,8,["id"])]),t("div",Ee,[Me,P(),p(U,{id:m.id},null,8,["id"])]),t("div",Ie,[p(q,{id:m.id},null,8,["id"])]),t("div",Be,[p(z,{id:m.id},null,8,["id"])])])]))),128))])])):b("",!0),e(w).length>0?(i(),l("div",Ne,[t("div",Pe,[t("div",je,[t("span",Ae,g(s.$t("word_consumers")),1),P(),e($)!=0?(i(),l("span",Oe,"- "+g(e(I)(e($)))+" /s",1)):b("",!0)]),(i(!0),l(x,null,M(e(w),m=>(i(),l("div",{key:m.id,class:"col-12"},[t("div",Ve,[t("div",Ue,[m.img?(i(),l("img",{key:0,src:m.img,width:"18",height:"18"},null,8,qe)):(i(),N(A,{key:1,icon:"fas fa-info-circle","fixed-width":""}))]),t("div",ze,[t("span",Fe,g(s.$t(m.name)),1)]),t("div",Le,[t("span",Re,"- "+g(e(I)(m.assign.count*m.inputs[e(n).id]))+" /s",1)]),t("div",Te,[m.mainId?(i(),N(F,{key:0,to:s.localePath("/item/"+m.mainId),class:"w-100 btn btn-primary",title:s.$t(m.name)},{default:R(()=>[p(A,{icon:"fas fa-arrow-right","fixed-width":""})]),_:2},1032,["to","title"])):(i(),N(F,{key:1,to:s.localePath("/buildings/"),class:"w-100 btn btn-primary",title:s.$t(m.name)},{default:R(()=>[p(A,{icon:"fas fa-arrow-right","fixed-width":""})]),_:2},1032,["to","title"]))])])]))),128))])])):b("",!0)])])])])):b("",!0)])])])}}};export{Xe as default};
