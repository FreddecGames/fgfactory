import{_ as B,d as D,a as S,c as A,b as F}from"./Cdwd1uF6.js";import{e as b,f as r,g as v,o as _,w as f,a as d,t as h,h as e,c as y,b as u,m as C,B as M,C as w,D as R,E as H,G as J,H as K,P as Q,d as L,F as z,r as I,A as W,l as V,I as X,J as Y,z as U}from"./Ds2iQaDU.js";import{a as q,_ as k}from"./BdsyWvKc.js";const Z={__name:"ElemAvailablePage",props:["id"],setup(c){const i=c,a=b(),t=r(()=>a.elems.find(o=>o.id==i.id));return(o,n)=>{const l=q;return _(),v(l,{variant:"subtle",color:"success",class:"text-nowrap"},{default:f(()=>[d("span",null,h(e(t).availableCount.toLocaleString())+" "+h(o.$t("word_available")),1)]),_:1})}}},tt={__name:"UpgradeStorageValue",props:["id"],setup(c){const i=c,a=b(),t=r(()=>a.elems.find(n=>n.id==i.id)),o=r(()=>a.elems.find(l=>l.id==t.value.itemId).stack*t.value.slots*t.value.selectCount);return(n,l)=>(_(),y("span",null,"+"+h(e(o).toLocaleString()),1))}},et={__name:"BtnAssignee",props:["id"],setup(c){const i=c,a=b(),t=r(()=>a.elems.find(n=>n.id==i.id)),o=r(()=>t.value.availableCount>0?"success":"error");return(n,l)=>{const s=C,p=B,m=k;return _(),v(m,{text:n.$t(e(t).label),"delay-duration":0},{default:f(()=>[u(p,{size:"3xl",color:e(o),position:"bottom-left",text:e(t).availableCount.toLocaleString()},{default:f(()=>[u(s,{avatar:{src:e(t).img},color:e(o),variant:"subtle",to:"/item/"+e(t).id},null,8,["avatar","color","to"])]),_:1},8,["color","text"])]),_:1},8,["text"])}}},nt={__name:"BtnUnassign",props:["id"],setup(c){const i=c,a=b(),t=r(()=>a.elems.find(l=>l.id==i.id)),o=r(()=>{if(t.value.assignCount<=0)return!1;if(t.value.type=="storage"){let l=a.elems.find(s=>s.id==t.value.itemId);if(l.count>l.max-t.value.stack*t.value.selectCount)return!1}return!0});function n(){o.value&&(t.value.assignCount-=t.value.selectCount,a.onUnassign(t.value,t.value.selectCount))}return(l,s)=>{const p=C,m=k;return _(),v(m,{text:l.$t("word_unassign"),"delay-duration":0},{default:f(()=>[u(p,{icon:"i-lucide-minus-circle",color:"error",variant:"subtle",disabled:!e(o),onClick:s[0]||(s[0]=x=>n())},null,8,["disabled"])]),_:1},8,["text"])}}},st={__name:"BtnSelect",props:["id"],setup(c){const i=c,a=b(),t=r(()=>a.elems.find(n=>n.id==i.id)),o=r(()=>{let n=[];return n.push({label:"1",value:1}),n.push({label:"5",value:5}),n.push({label:"10",value:10}),n.push({label:"50",value:50}),n});return(n,l)=>{const s=D;return _(),v(s,{modelValue:e(t).selectCount,"onUpdate:modelValue":l[0]||(l[0]=p=>e(t).selectCount=p),"value-key":"value",items:e(o),"search-input":!1,class:"justify-center"},null,8,["modelValue","items"])}}},ot={__name:"BtnAssign",props:["id"],setup(c){const i=c,a=b(),t=r(()=>a.elems.find(l=>l.id==i.id)),o=r(()=>!(a.elems.find(s=>s.id==t.value.assignId).availableCount<t.value.selectCount));function n(){o.value&&(t.value.assignCount+=t.value.selectCount,a.onAssign(t.value,t.value.selectCount))}return(l,s)=>{const p=C,m=k;return _(),v(m,{text:l.$t("word_assign"),"delay-duration":0},{default:f(()=>[u(p,{icon:"i-lucide-plus-circle",color:"primary",variant:"subtle",disabled:!e(o),onClick:s[0]||(s[0]=x=>n())},null,8,["disabled"])]),_:1},8,["text"])}}},it={base:"relative",variants:{size:{xs:"",sm:"",md:"",lg:"",xl:""},orientation:{horizontal:"inline-flex -space-x-px",vertical:"flex flex-col -space-y-px"}}},at={__name:"ButtonGroup",props:{as:{type:null,required:!1},size:{type:null,required:!1},orientation:{type:null,required:!1,default:"horizontal"},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(c){const i=c,a=M(),t=r(()=>{var o;return w({extend:w(it),...((o=a.ui)==null?void 0:o.buttonGroup)||{}})});return R(H,r(()=>({orientation:i.orientation,size:i.size}))),(o,n)=>(_(),v(e(Q),{as:c.as,class:K(t.value({orientation:c.orientation,class:i.class}))},{default:f(()=>[J(o.$slots,"default")]),_:3},8,["as","class"]))}},lt={class:"flex items-center gap-2"},T={__name:"LineAssignment",props:["id"],setup(c){const i=c,a=b(),t=r(()=>a.elems.find(n=>n.id==i.id)),o=r(()=>a.elems.find(n=>n.id==t.value.assignId));return(n,l)=>{const s=et,p=q,m=nt,x=st,g=ot,$=at;return _(),y("div",lt,[u(s,{id:e(o).id},null,8,["id"]),u(p,{variant:"subtle",color:"neutral",class:"ms-auto text-nowrap"},{default:f(()=>[l[0]||(l[0]=d("small",{class:"opacity-75"},"x",-1)),L(" "+h(e(t).assignCount),1)]),_:1}),u($,null,{default:f(()=>[u(m,{id:e(t).id},null,8,["id"]),u(x,{id:e(t).id,class:"w-24"},null,8,["id"]),u(g,{id:e(t).id},null,8,["id"])]),_:1})])}}},ct={__name:"BtnInput",props:["id","count"],setup(c){const i=c,a=b(),t=r(()=>a.elems.find(n=>n.id==i.id)),o=r(()=>t.value.count>=i.count?"success":"error");return(n,l)=>{const s=C,p=B,m=k;return _(),v(m,{text:n.$t(e(t).label),"delay-duration":0},{default:f(()=>[u(p,{size:"3xl",color:e(o),position:"bottom-right",text:c.count.toLocaleString()},{default:f(()=>[u(s,{avatar:{src:e(t).img},color:e(o),variant:"subtle",to:"/item/"+e(t).id},null,8,["avatar","color","to"])]),_:1},8,["color","text"])]),_:1},8,["text"])}}},rt={__name:"BtnOutput",props:["id","count"],setup(c){const i=c,a=b(),t=r(()=>a.elems.find(n=>n.id==i.id)),o=r(()=>t.value.count+i.count<=t.value.max?"success":"error");return(n,l)=>{const s=C,p=B,m=k;return _(),v(m,{text:n.$t(e(t).label),"delay-duration":0},{default:f(()=>[u(p,{size:"3xl",color:e(o),position:"bottom-right",text:c.count.toLocaleString()},{default:f(()=>[u(s,{avatar:{src:e(t).img},color:e(o),variant:"subtle",to:"/item/"+e(t).id},null,8,["avatar","color","to"])]),_:1},8,["color","text"])]),_:1},8,["text"])}}},dt={class:"flex items-start gap-2"},ut={key:0,class:"flex flex-wrap items-center gap-2"},_t={key:1,class:"opacity-75",style:{"line-height":"32px"}},pt={class:"opacity-75",style:{"line-height":"32px"}},mt={class:"flex items-center gap-2"},G={__name:"LineRecipe",props:["id"],setup(c){const i=c,a=b(),t=r(()=>a.elems.find(l=>l.id==i.id)),o=r(()=>t.value.getOutputs()),n=r(()=>t.value.getInputs());return(l,s)=>{const p=ct,m=W,x=rt;return _(),y("div",dt,[e(n)?(_(),y("div",ut,[(_(!0),y(z,null,I(e(n),g=>(_(),v(p,{key:g.id,id:g.id,count:g.count},null,8,["id","count"]))),128))])):(_(),y("div",_t,[u(m,{name:"i-lucide-circle-slash-2"})])),d("div",pt,[u(m,{name:"i-lucide-move-right"})]),d("div",mt,[(_(!0),y(z,null,I(e(o),g=>(_(),v(x,{key:g.id,id:g.id,count:g.count},null,8,["id","count"]))),128))])])}}},ft={class:"flex items-center gap-2"},gt={class:"text-lg font-semibold opacity-50"},vt={class:"grid gap-3"},ht={class:"text-lg font-semibold"},bt={class:"grid lg:grid-cols-2 gap-3 items-start"},xt={class:"p-3 rounded bg-zinc-800 grid gap-3"},$t={class:"text-xs font-semibold opacity-75"},yt={class:"grid gap-3"},Ct={class:"p-3 rounded bg-zinc-800 grid gap-3"},kt={class:"text-xs font-semibold opacity-75"},Ut={class:"grid gap-3"},Bt={__name:"CardProduction",props:["id"],setup(c){const i=c,a=b(),t=r(()=>a.elems.find(n=>n.id==i.id)),o=r(()=>a.elems.find(n=>n.id==t.value.assignId));return(n,l)=>{const s=S,p=V,m=T,x=G,g=A;return e(o).unlocked==!1?(_(),v(p,{key:0,variant:"outline"},{default:f(()=>[d("div",ft,[u(s,{id:e(o).id},null,8,["id"]),d("span",gt,h(n.$t("word_production")),1)])]),_:1})):(_(),v(p,{key:1,variant:"outline"},{default:f(()=>[d("div",vt,[d("span",ht,h(n.$t("word_production")),1),d("div",bt,[d("div",xt,[d("span",$t,h(n.$t("word_assignment")),1),d("div",yt,[u(m,{id:e(t).id},null,8,["id"])])]),d("div",Ct,[d("span",kt,h(n.$t("word_crafting")),1),d("div",Ut,[u(x,{id:e(t).id},null,8,["id"]),u(g,{id:e(t).id},null,8,["id"])])])])])]),_:1}))}}},wt={class:"flex items-center gap-2"},zt={class:"text-lg font-semibold opacity-50"},It={key:1,class:"grid gap-6"},St={class:"grid gap-3"},At={class:"flex items-center gap-2"},Lt=["src"],Vt={class:"truncate text-lg font-bold"},qt={class:"ms-auto flex items-center gap-2"},Tt={class:"grid lg:grid-cols-2 gap-3 items-start"},Gt={key:0,class:"p-3 rounded bg-zinc-800 grid gap-3"},Nt={class:"text-xs font-semibold opacity-75"},Pt={class:"grid gap-3"},jt={key:1,class:"p-3 rounded bg-zinc-800 grid gap-3"},Et={class:"text-xs font-semibold opacity-75"},Ot={class:"grid gap-3"},Rt={__name:"[id]",setup(c){const i=b(),a=X(),t=r(()=>i.elems.find(s=>s.id==a.params.id));Y(()=>{let s=i.elems.find($=>$.link=="/item/"+a.params.id),p=i.elems.find($=>$.id==s.parentId),m=i.elems.find($=>$.id==p.parentId),g=i.elems.filter($=>$.type=="tab").indexOf(m);i.activeTab=g.toString()});const o=r(()=>i.elems.find(s=>s.type=="storage"&&s.itemId==a.params.id)),n=r(()=>i.elems.find(s=>s.type=="manual"&&s.itemId==a.params.id)),l=r(()=>i.elems.find(s=>s.type=="production"&&s.itemId==a.params.id));return(s,p)=>{const m=S,x=V,g=Z,$=F,N=tt,P=T,j=G,E=A,O=Bt;return e(t).unlocked==!1?(_(),v(x,{key:0,variant:"outline"},{default:f(()=>[d("div",wt,[u(m,{id:e(t).id},null,8,["id"]),d("span",zt,h(s.$t(e(t).label)),1)])]),_:1})):(_(),y("div",It,[u(x,{variant:"outline"},{default:f(()=>[d("div",St,[d("div",At,[d("img",{src:e(t).img,width:"24",height:"24"},null,8,Lt),d("span",Vt,h(s.$t(e(t).label)),1),d("div",qt,[e(t).type=="machine"||e(t).type=="storer"?(_(),v(g,{key:0,id:e(t).id},null,8,["id"])):U("",!0),u($,{id:e(t).id},null,8,["id"])])]),d("div",Tt,[e(o)?(_(),y("div",Gt,[d("span",Nt,[L(h(s.$t("word_storage"))+" ",1),u(N,{id:e(o).id},null,8,["id"])]),d("div",Pt,[u(P,{id:e(o).id},null,8,["id"])])])):U("",!0),e(n)?(_(),y("div",jt,[d("span",Et,h(s.$t("word_manual")),1),d("div",Ot,[u(j,{id:e(n).id,class:"flex-1"},null,8,["id"]),u(E,{id:e(n).id},null,8,["id"])])])):U("",!0)])])]),_:1}),e(l)?(_(),v(O,{key:0,id:e(l).id},null,8,["id"])):U("",!0)]))}}};export{Rt as default};
