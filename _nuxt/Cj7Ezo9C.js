import{e as x,s as m,v as h,o as d,w as g,b as u,l as s,i as b,c as v,F as y,x as C,a as i,t as f,h as k,y as U,z as E}from"./4aU1uwDG.js";import{_ as B,a as w}from"./CRp35Sil.js";import{_ as S,a as L}from"./CAJ85KQJ.js";const z={__name:"BtnCost",props:["id","count"],setup(_){const r=_,a=x(),t=m(()=>a.elems.find(l=>l.id==r.id)),e=m(()=>t.value.count>=r.count?"success":"error");return(l,n)=>{const o=b,c=S,p=B;return d(),h(p,{text:l.$t(s(t).label),"delay-duration":0},{default:g(()=>[u(c,{size:"3xl",color:s(e),position:"bottom-right",text:_.count.toLocaleString()},{default:g(()=>[u(o,{avatar:{src:s(t).img},color:s(e),variant:"subtle",to:"/item/"+s(t).id},null,8,["avatar","color","to"])]),_:1},8,["color","text"])]),_:1},8,["text"])}}},A={class:"flex flex-wrap items-center gap-1"},N={__name:"LineCosts",props:["id"],setup(_){const r=_,a=x(),t=m(()=>a.elems.find(l=>l.id==r.id)),e=m(()=>t.value.getCosts());return(l,n)=>{const o=z;return d(),v("div",A,[(d(!0),v(y,null,C(s(e),c=>(d(),h(o,{key:c.id,id:c.id,count:c.count},null,8,["id","count"]))),128))])}}},V={__name:"BtnComplete",props:["id"],setup(_){const r=_,a=x(),t=m(()=>a.elems.find(n=>n.id==r.id)),e=m(()=>{if(t.value.count>0)return!1;let n=!0,o=t.value.getCosts();return o&&o.forEach(c=>{a.elems.find($=>$.id==c.id).count<c.count&&(n=!1)}),n});function l(){if(!e.value)return;let n=t.value.getCosts();n&&n.forEach(o=>{let c=a.elems.find(p=>p.id==o.id);c.count-=o.count}),t.value.count=1,a.refreshAll()}return(n,o)=>{const c=b,p=B;return d(),h(p,{text:n.$t("word_complete"),"delay-duration":0},{default:g(()=>[u(c,{icon:"i-lucide-check",color:"success",variant:"subtle",disabled:!s(e),onClick:o[0]||(o[0]=$=>l())},null,8,["disabled"])]),_:1},8,["text"])}}},q={class:"flex items-center gap-2"},F={__name:"LineComplete",props:["id"],setup(_){const r=_,a=x(),t=m(()=>a.elems.find(e=>e.id==r.id));return(e,l)=>{const n=V;return d(),v("div",q,[u(n,{class:"ms-auto",id:s(t).id},null,8,["id"])])}}},T={class:"grid gap-6"},j={class:"flex items-center gap-2"},D={class:"text-lg font-semibold text-success opacity-50"},M={class:"grid gap-6"},G={class:"flex items-center gap-2"},H={class:"text-lg font-semibold opacity-50"},I={class:"grid gap-6"},J={class:"grid gap-2"},K={class:"flex items-center gap-2"},O={class:"text-lg font-semibold"},P={key:0,class:"text-xs opacity-75"},Q={class:"grid gap-2"},R={class:"text-xs font-semibold opacity-75"},W={class:"p-2 rounded bg-zinc-800 flex gap-2 items-end"},X={__name:"CardMission",props:["id"],setup(_){const r=_,a=x(),t=m(()=>a.elems.find(e=>e.id==r.id));return m(()=>{let e=[];return t.value.reqs.forEach(l=>{let n=a.elems.find(o=>o.id==l.id);e.push({id:l.id,label:n.label})}),e}),(e,l)=>{const n=w,o=k,c=L,p=N,$=F;return s(t).count>0?(d(),h(o,{key:0,variant:"outline"},{default:g(()=>[i("div",T,[i("div",j,[i("span",D,f(e.$t(s(t).label)),1),u(n,{variant:"subtle",color:"success",icon:"i-lucide-check",class:"ms-auto"})])])]),_:1})):s(t).unlocked==!1?(d(),h(o,{key:1,variant:"outline"},{default:g(()=>[i("div",M,[i("div",G,[u(c,{id:s(t).id},null,8,["id"]),i("span",H,f(e.$t(s(t).label)),1)])])]),_:1})):(d(),h(o,{key:2,variant:"outline"},{default:g(()=>[i("div",I,[i("div",J,[i("div",K,[i("span",O,f(e.$t(s(t).label)),1)]),s(t).desc?(d(),v("span",P,f(e.$t(s(t).desc)),1)):U("",!0)]),i("div",Q,[i("span",R,f(e.$t("word_costs")),1),i("div",W,[u(p,{id:s(t).id,class:"flex-1"},null,8,["id"]),u($,{id:s(t).id},null,8,["id"])])])])]),_:1}))}}},Y={class:"flex flex-col gap-6"},Z={class:"grid gap-2"},tt={class:"text-xl font-bold"},et={class:"text-xs opacity-75"},ct={__name:"missions",setup(_){const r=x(),a=m(()=>r.elems.filter(t=>t.type=="mission"));return(t,e)=>{const l=E,n=k,o=X;return d(),v("div",Y,[u(n,{variant:"outline"},{default:g(()=>[i("div",Z,[i("span",tt,f(t.$t(s(r).currentScenario.title)),1),i("span",et,f(t.$t(s(r).currentScenario.desc)),1),u(l,{class:"justify-center text-center",title:t.$t("disclaimer"),color:"error",variant:"subtle",icon:"i-lucide-badge-alert"},null,8,["title"])])]),_:1}),(d(!0),v(y,null,C(s(a),c=>(d(),h(o,{key:c.id,id:c.id},null,8,["id"]))),128))])}}};export{ct as default};
