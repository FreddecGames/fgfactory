import{e as w,f as c,t as k,h as n,o as i,c as r,m as I,p as M,r as S,b as $,n as B,a as u,j as y,g as A,F as C,i as E}from"./CmWb5pos.js";import{_ as O}from"./8XQkRLQ5.js";import{_ as P}from"./CObldyyC.js";const ue={__name:"AssignName",props:["id"],setup(p){const v=p,t=w(),s=c(()=>t.elems.find(a=>a.id==v.id)),l=c(()=>t.elems.find(a=>a.id==s.value.assign.id));return(a,d)=>k(a.$t(n(l).name))}},re={__name:"AssignCount",props:["id"],setup(p){const v=p,t=w(),s=c(()=>t.elems.find(l=>l.id==v.id));return(l,a)=>(i(),r("span",{class:M({"opacity-50":n(s).assign.count==0,"text-white":n(s).assign.count>0})},k(n(I)(n(s).assign.count,"",0)),3))}},de={__name:"UnassignButton",props:["id"],setup(p){const v=p,t=w(),s=c(()=>t.elems.find(o=>o.id==v.id)),l=c(()=>t.getCosts(s.value)),a=c(()=>t.getInputs(s.value)),d=c(()=>t.getOutputs(s.value)),m=c(()=>t.getStorages(s.value)),g=c(()=>{if(s.value.assign.count<s.value.select.count)return!1;let o=!0;if(d.value)for(let e in d.value){let h=t.getElem(e).prod-d.value[e];if(h=Math.round(h*100)/100,h<0)return!1}if(m.value)for(let e in m.value){let f=t.getElem(e);if(f.max-m.value[e]<f.count)return!1}return o}),_=function(){if(l.value)for(let o in l.value){let e=t.getElem(o);e.count+=l.value[o],e.count>e.max&&(e.count=e.max),e.count=Math.round(e.count*100)/100}if(a.value)for(let o in a.value){let e=t.getElem(o);e.prod+=a.value[o],e.prod=Math.round(e.prod*100)/100}if(d.value)for(let o in d.value){let e=t.getElem(o);e.prod-=d.value[o],e.prod=Math.round(e.prod*100)/100}if(m.value)for(let o in m.value){let e=t.getElem(o);e.max-=m.value[o],e.max=Math.round(e.max*100)/100}s.value.assign.count-=s.value.select.count};return(o,e)=>{const f=S("font-awesome-icon");return i(),r("button",{type:"button",class:M(["btn btn-danger",{disabled:!n(g)}]),onClick:e[0]||(e[0]=B(h=>{n(g)&&_()},["prevent"]))},[$(f,{icon:"fas fa-minus-square","fixed-width":""})],2)}}},me={__name:"AssignButton",props:["id"],setup(p){const v=p,t=w(),s=c(()=>t.elems.find(o=>o.id==v.id)),l=c(()=>t.getCosts(s.value)),a=c(()=>t.getInputs(s.value)),d=c(()=>t.getOutputs(s.value)),m=c(()=>t.getStorages(s.value)),g=c(()=>{let o=t.getAvailableCount(s.value.assign.id);return!(s.value.select.count>o||l.value&&!t.checkCounts(l.value)||a.value&&!t.checkProds(a.value))}),_=function(){if(s.value.assign.count+=s.value.select.count,l.value)for(let o in l.value){let e=t.getElem(o);e.count-=l.value[o],e.count=Math.round(e.count*100)/100}if(a.value)for(let o in a.value){let e=t.getElem(o);e.prod-=a.value[o],e.prod=Math.round(e.prod*100)/100}if(d.value)for(let o in d.value){let e=t.getElem(o);e.prod+=d.value[o],e.prod=Math.round(e.prod*100)/100}if(m.value)for(let o in m.value){let e=t.getElem(o);e.max+=m.value[o],e.max=Math.round(e.max*100)/100}};return(o,e)=>{const f=S("font-awesome-icon");return i(),r("button",{type:"button",class:M(["btn btn-primary",{disabled:!n(g)}]),onClick:e[0]||(e[0]=B(h=>{n(g)&&_()},["prevent"]))},[$(f,{icon:"fas fa-plus-square","fixed-width":""})],2)}}},V={class:"row gx-1 align-items-center justify-content-end"},j=["title"],q=["src"],F={class:"col text-white text-truncate"},z={class:"col-auto"},D={class:"badge d-block text-bg-success",style:{width:"55px"}},G={__name:"BlockOutput",props:["id","count"],setup(p){const v=p,t=w(),s=c(()=>t.getElem(v.id));return(l,a)=>(i(),r("div",V,[n(s).img!=null?(i(),r("div",{key:0,class:"col-auto",title:l.$t(n(s).name)},[u("img",{src:n(s).img,width:"16",height:"16"},null,8,q)],8,j)):y("",!0),u("div",F,k(l.$t(n(s).name)),1),u("div",z,[u("span",D,"+"+k(n(I)(p.count))+" /s",1)])]))}},L={type:"button",class:"position-relative btn btn-secondary","data-bs-toggle":"dropdown"},U=["src"],H={key:2,class:"badge bg-dark position-absolute",style:{top:"-0.25rem",right:"-0.5rem"}},J=["src"],K={class:"dropdown-menu p-2",style:{width:"17rem"}},Q={class:"row g-3"},R={key:0,class:"col-12"},T={class:"row g-1"},W={class:"col-12"},X={class:"text-subtitle"},Y={key:1,class:"col-12"},Z={class:"row g-1"},ee={class:"col-12"},te={class:"text-subtitle"},se={key:2,class:"col-12"},oe={class:"row g-1"},ne={class:"col-12"},ce={class:"text-subtitle"},_e={__name:"ProducerInfo",props:["id"],setup(p){const v=p,t=w(),s=c(()=>t.elems.find(_=>_.id==v.id)),l=c(()=>t.elems.find(_=>_.id==s.value.assign.id)),a=c(()=>t.elems.find(_=>_.id==s.value.recyclingId)),d=c(()=>t.getCosts(s.value)),m=c(()=>t.getInputs(s.value)),g=c(()=>t.getOutputs(s.value));return(_,o)=>{const e=S("font-awesome-icon"),f=O,h=P,N=G;return i(),r(C,null,[u("button",L,[n(l).img?(i(),r("img",{key:0,src:n(l).img,width:"18",height:"18"},null,8,U)):(i(),A(e,{key:1,icon:"fas fa-info-circle","fixed-width":""})),n(a)&&n(a).img?(i(),r("span",H,[u("img",{src:n(a).img,width:"12",height:"12"},null,8,J)])):y("",!0)]),u("div",K,[u("div",Q,[n(d)?(i(),r("div",R,[u("div",T,[u("div",W,[u("span",X,k(_.$t("word_costs")),1)]),(i(!0),r(C,null,E(n(d),(x,b)=>(i(),r("div",{key:b,class:"col-12"},[$(f,{id:b,count:x},null,8,["id","count"])]))),128))])])):y("",!0),n(m)?(i(),r("div",Y,[u("div",Z,[u("div",ee,[u("span",te,k(_.$t("word_inputs")),1)]),(i(!0),r(C,null,E(n(m),(x,b)=>(i(),r("div",{key:b,class:"col-12"},[$(h,{id:b,count:x},null,8,["id","count"])]))),128))])])):y("",!0),n(g)?(i(),r("div",se,[u("div",oe,[u("div",ne,[u("span",ce,k(_.$t("word_outputs")),1)]),(i(!0),r(C,null,E(n(g),(x,b)=>(i(),r("div",{key:b,class:"col-12"},[$(N,{id:b,count:x},null,8,["id","count"])]))),128))])])):y("",!0)])])],64)}}};export{ue as _,re as a,de as b,me as c,_e as d};
