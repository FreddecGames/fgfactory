import{e as x,s as u,v as h,o as d,w as v,b as p,l as s,i as y,c as g,F as C,x as k,y as b,a as r,t as f,h as B,z as U}from"./BMybRrx0.js";import{_ as w,a as S}from"./6jJ9aC2n.js";import{_ as E}from"./WprXqqRn.js";const L={__name:"BtnCost",props:["id","count"],setup(_){const l=_,a=x(),t=u(()=>a.elems.find(i=>i.id==l.id)),e=u(()=>t.value.count>=l.count?"success":"error");return(i,o)=>{const n=y,c=w,m=E;return d(),h(m,{text:i.$t(s(t).label),"delay-duration":0},{default:v(()=>[p(c,{size:"3xl",color:s(e),position:"bottom-right",text:_.count.toLocaleString()},{default:v(()=>[p(n,{avatar:{src:s(t).img},color:s(e),variant:"subtle",to:"/item/"+s(t).id},null,8,["avatar","color","to"])]),_:1},8,["color","text"])]),_:1},8,["text"])}}},z={class:"flex flex-wrap items-center gap-1"},N={__name:"LineCosts",props:["id"],setup(_){const l=_,a=x(),t=u(()=>a.elems.find(i=>i.id==l.id)),e=u(()=>t.value.getCosts());return(i,o)=>{const n=L;return d(),g("div",z,[(d(!0),g(C,null,k(s(e),c=>(d(),h(n,{key:c.id,id:c.id,count:c.count},null,8,["id","count"]))),128))])}}},V={__name:"BtnComplete",props:["id"],setup(_){const l=_,a=x(),t=u(()=>a.elems.find(o=>o.id==l.id)),e=u(()=>{if(t.value.count>0)return!1;let o=!0,n=t.value.getCosts();return n&&n.forEach(c=>{a.elems.find($=>$.id==c.id).count<c.count&&(o=!1)}),o});function i(){if(!e.value)return;let o=t.value.getCosts();o&&o.forEach(n=>{let c=a.elems.find(m=>m.id==input.id);c.count-=n.count}),t.value.count=1}return(o,n)=>{const c=y,m=E;return d(),h(m,{text:o.$t("word_complete"),"delay-duration":0},{default:v(()=>[p(c,{icon:"i-lucide-check",color:"success",variant:"subtle",disabled:!s(e),onClick:n[0]||(n[0]=$=>i())},null,8,["disabled"])]),_:1},8,["text"])}}},q={class:"flex items-center gap-2"},A={__name:"LineComplete",props:["id"],setup(_){const l=_,a=x(),t=u(()=>a.elems.find(e=>e.id==l.id));return(e,i)=>{const o=V;return d(),g("div",q,[p(o,{class:"ms-auto",id:s(t).id},null,8,["id"])])}}},F={class:"grid gap-6"},T={class:"flex items-center gap-2"},j={class:"text-lg font-semibold opacity-50"},D={class:"grid gap-6"},M={class:"grid gap-2"},G={class:"flex items-center gap-2"},H={class:"text-lg font-semibold"},I={key:0,class:"text-xs opacity-75"},J={class:"grid gap-2"},K={class:"text-xs font-semibold opacity-75"},O={class:"p-2 rounded bg-zinc-800 flex gap-2 items-end"},P={__name:"CardMission",props:["id"],setup(_){const l=_,a=x(),t=u(()=>a.elems.find(e=>e.id==l.id));return u(()=>{let e=[];return t.value.reqs.forEach(i=>{let o=a.elems.find(n=>n.id==i.id);e.push({id:i.id,label:o.label})}),e}),(e,i)=>{const o=S,n=B,c=N,m=A;return s(t).unlocked==!1?(d(),h(n,{key:0,variant:"outline"},{default:v(()=>[r("div",F,[r("div",T,[p(o,{id:s(t).id},null,8,["id"]),r("span",j,f(e.$t(s(t).label)),1)])])]),_:1})):s(t).unlocked==!0?(d(),h(n,{key:1,variant:"outline"},{default:v(()=>[r("div",D,[r("div",M,[r("div",G,[r("span",H,f(e.$t(s(t).label)),1)]),s(t).desc?(d(),g("span",I,f(e.$t(s(t).desc)),1)):b("",!0)]),r("div",J,[r("span",K,f(e.$t("word_costs")),1),r("div",O,[p(c,{id:s(t).id,class:"flex-1"},null,8,["id"]),p(m,{id:s(t).id},null,8,["id"])])])])]),_:1})):b("",!0)}}},Q={class:"flex flex-col gap-6"},R={class:"grid gap-2"},W={class:"text-xl font-bold"},X={class:"text-xs opacity-75"},et={__name:"missions",setup(_){const l=x(),a=u(()=>l.elems.filter(t=>t.type=="mission"));return(t,e)=>{const i=U,o=B,n=P;return d(),g("div",Q,[p(o,{variant:"outline"},{default:v(()=>[r("div",R,[r("span",W,f(t.$t(s(l).currentScenario.title)),1),r("span",X,f(t.$t(s(l).currentScenario.desc)),1),p(i,{class:"justify-center text-center",title:t.$t("disclaimer"),color:"error",variant:"subtle",icon:"i-lucide-badge-alert"},null,8,["title"])])]),_:1}),(d(!0),g(C,null,k(s(a),c=>(d(),h(n,{key:c.id,id:c.id},null,8,["id"]))),128))])}}};export{et as default};
