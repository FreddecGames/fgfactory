import{_ as X}from"./D_cH6USN.js";import{e as E,f as _,o as t,c as e,t as r,h as o,m as B,r as j,a as s,g as I,F as b,i as M,b as d,j as k,n as Y,p as G,q as A,s as Z,v as ss,x as ts,k as os,d as L,w as D}from"./CmWb5pos.js";import{_ as es,a as ns,c as is,b as cs}from"./CObldyyC.js";import{_ as as,a as ls}from"./8XQkRLQ5.js";import{_ as ds}from"./d2r1UoPG.js";import{_ as _s,a as rs,b as us,c as ms,d as ps}from"./BGCUqS5y.js";import{_ as hs}from"./DqfbGhr4.js";const gs={class:"opacity-50"},vs={__name:"ItemMax",props:["id"],setup(g){const f=g,a=E(),c=_(()=>a.elems.find(l=>l.id==f.id));return(l,u)=>(t(),e("span",gs,r(o(B)(o(c).max,"",0)),1))}},fs={type:"button",class:"btn btn-secondary","data-bs-toggle":"dropdown"},ws=["src"],ys={class:"dropdown-menu p-2",style:{width:"17rem"}},$s={class:"row g-3"},ks={key:0,class:"col-12"},bs={class:"row g-1"},xs={class:"col-12"},Ss={class:"text-subtitle"},Cs={key:1,class:"col-12"},Ms={class:"row g-1"},Es={class:"col-12"},Is={class:"text-subtitle"},Bs={key:2,class:"col-12"},Ls={class:"row g-1"},Ns={class:"col-12"},js={class:"text-subtitle"},Ps={key:3,class:"col-12"},Vs={class:"row g-1"},zs={class:"col-12"},Fs={class:"text-subtitle"},Rs={__name:"ManualInfo",props:["id","img"],setup(g){const f=g,a=E(),c=_(()=>a.elems.find($=>$.id==f.id)),l=_(()=>a.getCosts(c.value)),u=_(()=>a.getInputs(c.value)),y=_(()=>a.getResults(c.value)),S=_(()=>a.getUpgrades(c.value));return($,w)=>{const p=j("font-awesome-icon"),C=es,n=ns,m=as,v=ds;return t(),e(b,null,[s("button",fs,[g.img?(t(),e("img",{key:0,src:g.img,width:"18",height:"18"},null,8,ws)):(t(),I(p,{key:1,icon:"fas fa-info-circle","fixed-width":""}))]),s("div",ys,[s("div",$s,[o(u)?(t(),e("div",ks,[s("div",bs,[s("div",xs,[s("span",Ss,r($.$t("word_inputs")),1)]),(t(!0),e(b,null,M(o(u),(x,h)=>(t(),e("div",{key:h,class:"col-12"},[d(C,{id:h,count:x},null,8,["id","count"])]))),128))])])):k("",!0),o(S)?(t(),e("div",Cs,[s("div",Ms,[s("div",Es,[s("span",Is,r($.$t("word_upgrades")),1)]),(t(!0),e(b,null,M(o(S),(x,h)=>(t(),e("div",{key:h,class:"col-12"},[d(n,{id:h,count:x},null,8,["id","count"])]))),128))])])):k("",!0),o(l)?(t(),e("div",Bs,[s("div",Ls,[s("div",Ns,[s("span",js,r($.$t("word_costs")),1)]),(t(!0),e(b,null,M(o(l),(x,h)=>(t(),e("div",{key:h,class:"col-12"},[d(m,{id:h,count:x},null,8,["id","count"])]))),128))])])):k("",!0),o(y)?(t(),e("div",Ps,[s("div",Vs,[s("div",zs,[s("span",Fs,r($.$t("word_results")),1)]),(t(!0),e(b,null,M(o(y),(x,h)=>(t(),e("div",{key:h,class:"col-12"},[d(v,{id:h,count:x},null,8,["id","count"])]))),128))])])):k("",!0)])])],64)}}},Ts={__name:"ManualButtonStop",props:["id"],setup(g){const f=g,a=E(),c=_(()=>a.elems.find(w=>w.id==f.id)),l=_(()=>a.getCosts(c.value)),u=_(()=>a.getInputs(c.value)),y=_(()=>a.getUpgrades(c.value)),S=_(()=>c.value.status=="started"),$=function(){if(u.value)for(let w in u.value){let p=a.getElem(w);p.prod+=u.value[w],p.prod=Math.round(p.prod*100)/100}if(l.value)for(let w in l.value){let p=a.getElem(w);p.count+=l.value[w],p.count=Math.round(p.count*100)/100}if(y.value)for(let w in y.value){let p=a.getElem(w);p.count+=y.value[w],p.count=Math.round(p.count*100)/100}c.value.status="waiting",c.value.remainingSeconds=c.value.seconds};return(w,p)=>{const C=j("font-awesome-icon");return t(),e("button",{type:"button",class:G(["btn btn-danger",{disabled:!o(S)}]),onClick:p[0]||(p[0]=Y(n=>{o(S)&&$()},["prevent"]))},[d(C,{icon:"fas fa-stop","fixed-width":""})],2)}}},Us={key:0,class:"text-center"},qs={key:1,class:"text-center text-yellow"},As={__name:"ManualSeconds",props:["id"],setup(g){const f=g,a=E(),c=_(()=>a.elems.find(l=>l.id==f.id));return(l,u)=>o(c).status==="waiting"?(t(),e("div",Us,r(o(A)(o(c).seconds)),1)):(t(),e("div",qs,r(o(A)(o(c).remainingSeconds)),1))}},Ds={class:"progress",style:{height:"3px"}},Gs={__name:"ManualProgress",props:["id"],setup(g){const f=g,a=E(),c=_(()=>a.elems.find(u=>u.id==f.id)),l=_(()=>c.value.status==="waiting"?0:100-Math.floor(100*c.value.remainingSeconds/c.value.seconds));return(u,y)=>(t(),e("div",Ds,[s("div",{class:"progress-bar bg-success",style:Z("width:"+o(l)+"%;")},null,4)]))}},Hs={class:"row gx-1 align-items-center justify-content-end"},Js=["title"],Ks=["src"],Os={class:"col text-white text-truncate"},Qs={class:"col-auto"},Ws={class:"badge d-block text-bg-success",style:{width:"55px"}},Xs={__name:"BlockStorage",props:["id","count"],setup(g){const f=g,a=E(),c=_(()=>a.getElem(f.id));return(l,u)=>(t(),e("div",Hs,[o(c).img!=null?(t(),e("div",{key:0,class:"col-auto",title:l.$t(o(c).name)},[s("img",{src:o(c).img,width:"16",height:"16"},null,8,Ks)],8,Js)):k("",!0),s("div",Os,r(l.$t(o(c).name)),1),s("div",Qs,[s("span",Ws,"+"+r(o(B)(g.count)),1)])]))}},Ys={type:"button",class:"btn btn-secondary","data-bs-toggle":"dropdown"},Zs=["src"],st={class:"dropdown-menu p-2",style:{width:"17rem"}},tt={class:"row g-3"},ot={key:0,class:"col-12"},et={class:"row g-1"},nt={class:"col-12"},it={class:"text-subtitle"},ct={__name:"StorerInfo",props:["id"],setup(g){const f=g,a=E(),c=_(()=>a.elems.find(y=>y.id==f.id)),l=_(()=>a.elems.find(y=>y.id==c.value.assign.id)),u=_(()=>a.getStorages(c.value));return(y,S)=>{const $=j("font-awesome-icon"),w=Xs;return t(),e(b,null,[s("button",Ys,[o(l).img?(t(),e("img",{key:0,src:o(l).img,width:"18",height:"18"},null,8,Zs)):(t(),I($,{key:1,icon:"fas fa-info-circle","fixed-width":""}))]),s("div",st,[s("div",tt,[o(u)?(t(),e("div",ot,[s("div",et,[s("div",nt,[s("span",it,r(y.$t("word_storages")),1)]),(t(!0),e(b,null,M(o(u),(p,C)=>(t(),e("div",{key:C,class:"col-12"},[d(w,{id:C,count:p},null,8,["id","count"])]))),128))])])):k("",!0)])])],64)}}},at={__name:"ItemProd",props:["id"],setup(g){const f=g,a=E(),c=_(()=>a.elems.find(l=>l.id==f.id));return(l,u)=>(t(),e("span",{class:G({"opacity-50":o(c).prod==0,"text-success":o(c).prod>0})},"+ "+r(o(B)(o(c).prod))+" /s",3))}},lt={class:"w-100 h-100 scroll-content"},dt={class:"container p-2"},_t={class:"row g-3"},rt={class:"col-12"},ut={class:"card"},mt={class:"card-header"},pt={class:"row gx-2 align-items-center"},ht={class:"col"},gt={class:"fs-6 text-white"},vt={class:"col-auto"},ft={class:"bg-dark rounded py-1 px-2"},wt={class:"text-white"},yt={class:"card-body"},$t={class:"row g-3"},kt={key:0,class:"col-12"},bt={class:"row gy-1 gx-4"},xt={class:"col-12"},St={class:"text-subtitle"},Ct={class:"row gx-2 align-items-center"},Mt={class:"col-auto"},Et={class:"col text-truncate"},It={class:"text-white"},Bt={class:"col-auto"},Lt={class:"col-auto",style:{width:"65px"}},Nt={class:"col-auto"},jt={key:1,class:"col-12"},Pt={class:"row gy-1 gx-4"},Vt={class:"col-12"},zt={class:"text-subtitle"},Ft={key:0,class:"row gx-2 align-items-center"},Rt={class:"col-auto position-relative"},Tt={class:"col text-truncate"},Ut={class:"text-white"},qt={class:"col-auto"},At={class:"col-auto"},Dt={class:"input-group"},Gt={key:1,class:"row gx-2 align-items-center"},Ht={class:"col-auto"},Jt={type:"button",class:"btn btn-secondary",disabled:"",style:{width:"40px"}},Kt={class:"col text-truncate"},Ot={class:"opacity-50"},Qt={key:0,class:"col-12"},Wt={class:"card"},Xt={class:"card-header"},Yt={class:"row gx-2 align-items-center justify-content-center"},Zt={class:"col"},so={class:"fs-6 text-white"},to={class:"col-auto"},oo={class:"bg-dark rounded py-1 px-2"},eo={class:"text-white"},no={class:"card-body"},io={class:"row gy-1 gx-4"},co={class:"col-12"},ao={class:"text-subtitle"},lo={key:0,class:"ms-2 text-success"},_o={key:0,class:"row gx-2 align-items-center"},ro={class:"col-auto position-relative"},uo={class:"col text-truncate"},mo={class:"text-white"},po={class:"col-auto"},ho={class:"col-auto"},go={class:"input-group"},vo={key:1,class:"row gx-2 align-items-center"},fo={class:"col-auto"},wo={type:"button",class:"btn btn-secondary",disabled:"",style:{width:"40px"}},yo={class:"col text-truncate"},$o={class:"opacity-50"},ko={key:0,class:"card-body"},bo={class:"row gy-1 gx-4"},xo={class:"col-12"},So={class:"text-subtitle"},Co={key:0,class:"ms-2 text-danger"},Mo={class:"row gx-2 align-items-center"},Eo={class:"col-auto"},Io=["src"],Bo=["src"],Lo={class:"col col-lg-auto text-truncate"},No={class:"text-white"},jo={class:"col-auto"},Po={class:"text-danger"},Ao={__name:"[id]",setup(g){const f=ss(),a=ts(),c=os(),l=E(),u=_(()=>l.elems.find(n=>n.type=="item"&&n.id==a.params.id)),y=_(()=>l.elems.filter(n=>(c.showLocked?!0:n.unlocked)&&n.type=="storer"&&n.storages[a.params.id])),S=_(()=>l.elems.filter(n=>(c.showLocked?!0:n.unlocked)&&n.type=="manual"&&n.results[a.params.id])),$=_(()=>l.elems.filter(n=>(c.showLocked?!0:n.unlocked)&&n.type=="producer"&&n.outputs[a.params.id])),w=_(()=>{let n=[];return n=n.concat(l.elems.filter(v=>v.unlocked&&v.type=="producer"&&v.inputs&&v.inputs[a.params.id]&&v.assign.count>0)),l.elems.filter(v=>v.unlocked&&v.type=="generator"&&v.count>0).forEach(v=>{l.elems.filter(h=>h.unlocked&&h.type=="manual"&&h.results[v.id]&&h.inputs&&h.inputs[a.params.id]).forEach(h=>{let P={id:v.id,img:v.img,name:v.name,inputs:h.inputs,assign:{count:v.count}};n.push(P)})}),n}),p=_(()=>{let n=0;return $.value.forEach(m=>{n+=m.assign.count*m.outputs[a.params.id]}),n}),C=_(()=>{let n=0;return w.value.forEach(m=>{n+=m.assign.count*m.inputs[a.params.id]}),n});return(n,m)=>{const v=X,x=vs,h=Rs,P=Ts,H=As,J=Gs,K=ls,O=ct,V=is,z=_s,F=rs,R=us,T=cs,U=ms,N=j("font-awesome-icon"),Q=at,W=ps,q=hs;return t(),e("div",lt,[s("div",dt,[s("div",_t,[s("div",rt,[s("div",ut,[s("div",mt,[s("div",pt,[s("div",ht,[s("span",gt,r(n.$t("word_count")),1)]),s("div",vt,[s("div",ft,[s("span",wt,[d(v,{id:o(u).id},null,8,["id"]),m[0]||(m[0]=L(" / ")),d(x,{id:o(u).id},null,8,["id"])])])])])]),s("div",yt,[s("div",$t,[o(S).length>0?(t(),e("div",kt,[s("div",bt,[s("div",xt,[s("span",St,r(n.$t("word_manuals")),1)]),(t(!0),e(b,null,M(o(S),i=>(t(),e("div",{key:i.id,class:"col-12 col-lg-6"},[s("div",Ct,[s("div",Mt,[d(h,{id:i.id,img:o(u).img},null,8,["id","img"])]),s("div",Et,[s("span",It,r(n.$t(o(u).name)),1)]),s("div",Bt,[d(P,{id:i.id},null,8,["id"])]),s("div",Lt,[d(H,{id:i.id},null,8,["id"]),d(J,{id:i.id},null,8,["id"])]),s("div",Nt,[d(K,{id:i.id,icon:"fas fa-play"},null,8,["id"])])])]))),128))])])):k("",!0),o(y).length>0?(t(),e("div",jt,[s("div",Pt,[s("div",Vt,[s("span",zt,r(n.$t("word_storers")),1)]),(t(!0),e(b,null,M(o(y),i=>(t(),e("div",{key:i.id,class:"col-12 col-lg-6"},[i.unlocked?(t(),e("div",Ft,[s("div",Rt,[d(O,{id:i.id},null,8,["id"]),d(V,{id:i.assign.id,class:"position-absolute",style:{top:"0",left:"0px"}},null,8,["id"])]),s("div",Tt,[s("span",Ut,[d(z,{id:i.id},null,8,["id"])])]),s("div",qt,[m[1]||(m[1]=s("small",null,"x",-1)),m[2]||(m[2]=L()),d(F,{id:i.id},null,8,["id"])]),s("div",At,[s("div",Dt,[d(R,{id:i.id},null,8,["id"]),d(T,{id:i.id},null,8,["id"]),d(U,{id:i.id},null,8,["id"])])])])):(t(),e("div",Gt,[s("div",Ht,[s("button",Jt,[d(N,{icon:"fas fa-lock","fixed-width":""})])]),s("div",Kt,[s("span",Ot,r(n.$t("word_locked")),1)])]))]))),128))])])):k("",!0)])])])]),o($).length>0?(t(),e("div",Qt,[s("div",Wt,[s("div",Xt,[s("div",Yt,[s("div",Zt,[s("span",so,r(n.$t("word_prod")),1)]),s("div",to,[s("div",oo,[s("span",eo,[d(Q,{id:o(u).id},null,8,["id"])])])])])]),s("div",no,[s("div",io,[s("div",co,[s("span",ao,r(n.$t("word_producers")),1),m[3]||(m[3]=L()),o(p)!=0?(t(),e("span",lo,"+ "+r(o(B)(o(p)))+" /s",1)):k("",!0)]),(t(!0),e(b,null,M(o($),i=>(t(),e("div",{key:i.id,class:"col-12 col-lg-6"},[i.unlocked?(t(),e("div",_o,[s("div",ro,[d(W,{id:i.id},null,8,["id"]),d(V,{id:i.assign.id,class:"position-absolute",style:{top:"0",left:"0px"}},null,8,["id"])]),s("div",uo,[s("span",mo,[d(z,{id:i.id},null,8,["id"])])]),s("div",po,[m[4]||(m[4]=s("small",null,"x",-1)),m[5]||(m[5]=L()),d(F,{id:i.id},null,8,["id"])]),s("div",ho,[s("div",go,[d(R,{id:i.id},null,8,["id"]),d(T,{id:i.id},null,8,["id"]),d(U,{id:i.id},null,8,["id"])])])])):(t(),e("div",vo,[s("div",fo,[s("button",wo,[d(N,{icon:"fas fa-lock","fixed-width":""})])]),s("div",yo,[s("span",$o,r(n.$t("word_locked")),1)])]))]))),128))])]),o(w).length>0?(t(),e("div",ko,[s("div",bo,[s("div",xo,[s("span",So,r(n.$t("word_consumers")),1),m[6]||(m[6]=L()),o(C)!=0?(t(),e("span",Co,"- "+r(o(B)(o(C)))+" /s",1)):k("",!0)]),(t(!0),e(b,null,M(o(w),i=>(t(),e("div",{key:i.id,class:"col-12 col-lg-6"},[s("div",Mo,[s("div",Eo,[i.mainId?(t(),I(q,{key:0,to:o(f)("/item/"+i.mainId),class:"w-100 btn btn-primary",title:n.$t(i.name)},{default:D(()=>[i.img?(t(),e("img",{key:0,src:i.img,width:"18",height:"18"},null,8,Io)):(t(),I(N,{key:1,icon:"fas fa-info-circle","fixed-width":""}))]),_:2},1032,["to","title"])):(t(),I(q,{key:1,to:o(f)("/buildings/"),class:"w-100 btn btn-primary",title:n.$t(i.name)},{default:D(()=>[i.img?(t(),e("img",{key:0,src:i.img,width:"18",height:"18"},null,8,Bo)):(t(),I(N,{key:1,icon:"fas fa-info-circle","fixed-width":""}))]),_:2},1032,["to","title"]))]),s("div",Lo,[s("span",No,r(n.$t(i.name)),1)]),s("div",jo,[s("span",Po,"- "+r(o(B)(i.assign.count*i.inputs[o(u).id]))+" /s",1)])])]))),128))])])):k("",!0)])])):k("",!0)])])])}}};export{Ao as default};
