import{e as h,s as u,v as $,o as d,w as x,b as m,l as n,i as g,c as f,F as b,x as C,a as _,y as B,t as v,h as y}from"./BHkGx0A0.js";import{_ as U,a as E}from"./BmCCD8Gh.js";import{_ as S}from"./Ce7dT2P-.js";const w={__name:"BtnCost",props:["id","count"],setup(r){const c=r,a=h(),t=u(()=>a.elems.find(l=>l.id==c.id)),e=u(()=>t.value.count>=c.count?"success":"error");return(l,s)=>{const o=g,i=U,p=S;return d(),$(p,{text:l.$t(n(t).label),"delay-duration":0},{default:x(()=>[m(i,{size:"3xl",color:n(e),position:"bottom-right",text:r.count.toLocaleString()},{default:x(()=>[m(o,{avatar:{src:n(t).img},color:n(e),variant:"subtle",to:"/item/"+n(t).id},null,8,["avatar","color","to"])]),_:1},8,["color","text"])]),_:1},8,["text"])}}},L={class:"flex items-center gap-1"},N={__name:"LineCosts",props:["id"],setup(r){const c=r,a=h(),t=u(()=>a.elems.find(l=>l.id==c.id)),e=u(()=>t.value.getCosts());return(l,s)=>{const o=w;return d(),f("div",L,[(d(!0),f(b,null,C(n(e),i=>(d(),$(o,{key:i.id,id:i.id,count:i.count},null,8,["id","count"]))),128))])}}},V={__name:"BtnComplete",props:["id"],setup(r){const c=r,a=h(),t=u(()=>a.elems.find(s=>s.id==c.id)),e=u(()=>{if(t.value.count>0)return!1;let s=!0,o=t.value.getCosts();return o&&o.forEach(i=>{a.elems.find(k=>k.id==i.id).count<i.count&&(s=!1)}),s});function l(){if(!e.value)return;let s=t.value.getCosts();s&&s.forEach(o=>{let i=a.elems.find(p=>p.id==input.id);i.count-=o.count}),t.value.count=1}return(s,o)=>{const i=g;return d(),$(i,{icon:"i-lucide-check",label:s.$t("word_complete"),color:"success",variant:"subtle",disabled:!n(e),onClick:o[0]||(o[0]=p=>l())},null,8,["label","disabled"])}}},F={class:"flex items-center gap-2"},z={__name:"LineComplete",props:["id"],setup(r){const c=r,a=h(),t=u(()=>a.elems.find(e=>e.id==c.id));return(e,l)=>{const s=V;return d(),f("div",F,[m(s,{class:"ms-auto",id:n(t).id},null,8,["id"])])}}},A={class:"grid gap-6"},D={class:"grid gap-3"},M={class:"flex items-center gap-2"},T={class:"text-lg font-semibold"},j={key:0,class:"text-xs opacity-75"},q={class:"grid gap-3"},G={class:"text-xs font-semibold opacity-75"},H={class:"flex items-end gap-3"},I={__name:"CardMission",props:["id"],setup(r){const c=r,a=h(),t=u(()=>a.elems.find(e=>e.id==c.id));return(e,l)=>{const s=E,o=N,i=z,p=y;return d(),$(p,{variant:"outline"},{default:x(()=>[_("div",A,[_("div",D,[_("div",M,[_("span",T,v(e.$t(n(t).label)),1)]),n(t).desc?(d(),f("span",j,v(e.$t(n(t).desc)),1)):B("",!0)]),_("div",q,[_("span",G,v(e.$t("word_costs")),1),m(s),_("div",H,[m(o,{id:n(t).id,class:"flex-1"},null,8,["id"]),m(i,{id:n(t).id},null,8,["id"])])])])]),_:1})}}},J={class:"flex flex-col gap-6"},K={class:"grid gap-3"},O={class:"text-xl font-bold"},P={class:"text-xs opacity-75"},X={__name:"missions",setup(r){const c=h(),a=u(()=>c.elems.filter(t=>t.type=="mission"));return(t,e)=>{const l=y,s=I;return d(),f("div",J,[m(l,{variant:"outline"},{default:x(()=>[_("div",K,[_("span",O,v(t.$t(n(c).currentScenario.title)),1),_("span",P,v(t.$t(n(c).currentScenario.desc)),1)])]),_:1}),(d(!0),f(b,null,C(n(a),o=>(d(),$(s,{key:o.id,id:o.id},null,8,["id"]))),128))])}}};export{X as default};
