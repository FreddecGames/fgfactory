import{_ as Y}from"./ChlrHCXJ.js";import{e as M,f as r,o as t,c as e,t as u,h as o,m as B,r as j,a as s,g as I,F as x,i as C,b as d,j as b,n as Z,p as G,q as A,s as ss,v as ts,x as os,k as es,d as L,w as D}from"./DPXGXnqz.js";import{_ as ns,a as is,c as cs,b as ls}from"./BSJeQVjB.js";import{_ as H,a as as}from"./B-XjMgbi.js";import{_ as ds}from"./RteYnXvZ.js";import{_ as _s,a as rs,b as us,c as ms,d as ps}from"./CTNkA0yR.js";import{_ as hs}from"./CwTGIWT2.js";const gs={class:"opacity-50"},vs={__name:"ItemMax",props:["id"],setup(g){const f=g,l=M(),i=r(()=>l.elems.find(a=>a.id==f.id));return(a,m)=>(t(),e("span",gs,u(o(B)(o(i).max,"",0)),1))}},fs={type:"button",class:"btn btn-secondary","data-bs-toggle":"dropdown"},ws=["src"],ys={class:"dropdown-menu p-2",style:{width:"17rem"}},$s={class:"row g-3"},ks={key:0,class:"col-12"},bs={class:"row g-1"},xs={class:"col-12"},Ss={class:"text-subtitle"},Cs={key:1,class:"col-12"},Ms={class:"row g-1"},Es={class:"col-12"},Is={class:"text-subtitle"},Bs={key:2,class:"col-12"},Ls={class:"row g-1"},Ns={class:"col-12"},js={class:"text-subtitle"},Ps={key:3,class:"col-12"},Vs={class:"row g-1"},zs={class:"col-12"},Fs={class:"text-subtitle"},Rs={__name:"ManualInfo",props:["id","img"],setup(g){const f=g,l=M(),i=r(()=>l.elems.find(k=>k.id==f.id)),a=r(()=>l.getCosts(i.value)),m=r(()=>l.getInputs(i.value)),$=r(()=>l.getResults(i.value)),y=r(()=>l.getUpgrades(i.value));return(k,w)=>{const p=j("font-awesome-icon"),E=ns,n=is,_=H,v=ds;return t(),e(x,null,[s("button",fs,[g.img?(t(),e("img",{key:0,src:g.img,width:"18",height:"18"},null,8,ws)):(t(),I(p,{key:1,icon:"fas fa-info-circle","fixed-width":""}))]),s("div",ys,[s("div",$s,[o(m)?(t(),e("div",ks,[s("div",bs,[s("div",xs,[s("span",Ss,u(k.$t("word_inputs")),1)]),(t(!0),e(x,null,C(o(m),(S,h)=>(t(),e("div",{key:h,class:"col-12"},[d(E,{id:h,count:S},null,8,["id","count"])]))),128))])])):b("",!0),o(y)?(t(),e("div",Cs,[s("div",Ms,[s("div",Es,[s("span",Is,u(k.$t("word_upgrades")),1)]),(t(!0),e(x,null,C(o(y),(S,h)=>(t(),e("div",{key:h,class:"col-12"},[d(n,{id:h,count:S},null,8,["id","count"])]))),128))])])):b("",!0),o(a)?(t(),e("div",Bs,[s("div",Ls,[s("div",Ns,[s("span",js,u(k.$t("word_costs")),1)]),(t(!0),e(x,null,C(o(a),(S,h)=>(t(),e("div",{key:h,class:"col-12"},[d(_,{id:h,count:S},null,8,["id","count"])]))),128))])])):b("",!0),o($)?(t(),e("div",Ps,[s("div",Vs,[s("div",zs,[s("span",Fs,u(k.$t("word_results")),1)]),(t(!0),e(x,null,C(o($),(S,h)=>(t(),e("div",{key:h,class:"col-12"},[d(v,{id:h,count:S},null,8,["id","count"])]))),128))])])):b("",!0)])])],64)}}},Ts={__name:"ManualButtonStop",props:["id"],setup(g){const f=g,l=M(),i=r(()=>l.elems.find(w=>w.id==f.id)),a=r(()=>l.getCosts(i.value)),m=r(()=>l.getInputs(i.value)),$=r(()=>l.getUpgrades(i.value)),y=r(()=>i.value.status=="started"),k=function(){if(m.value)for(let w in m.value){let p=l.getElem(w);p.prod+=m.value[w],p.prod=Math.round(p.prod*100)/100}if(a.value)for(let w in a.value){let p=l.getElem(w);p.count+=a.value[w],p.count=Math.round(p.count*100)/100}if($.value)for(let w in $.value){let p=l.getElem(w);p.count+=$.value[w],p.count=Math.round(p.count*100)/100}i.value.status="waiting",i.value.remainingSeconds=i.value.seconds};return(w,p)=>{const E=j("font-awesome-icon");return t(),e("button",{type:"button",class:G(["btn btn-danger",{disabled:!o(y)}]),onClick:p[0]||(p[0]=Z(n=>{o(y)&&k()},["prevent"]))},[d(E,{icon:"fas fa-stop","fixed-width":""})],2)}}},Us={key:0,class:"text-center"},qs={key:1,class:"text-center text-yellow"},As={__name:"ManualSeconds",props:["id"],setup(g){const f=g,l=M(),i=r(()=>l.elems.find(a=>a.id==f.id));return(a,m)=>o(i).status==="waiting"?(t(),e("div",Us,u(o(A)(o(i).seconds)),1)):(t(),e("div",qs,u(o(A)(o(i).remainingSeconds)),1))}},Ds={class:"progress",style:{height:"3px"}},Gs={__name:"ManualProgress",props:["id"],setup(g){const f=g,l=M(),i=r(()=>l.elems.find(m=>m.id==f.id)),a=r(()=>i.value.status==="waiting"?0:100-Math.floor(100*i.value.remainingSeconds/i.value.seconds));return(m,$)=>(t(),e("div",Ds,[s("div",{class:"progress-bar bg-success",style:ss("width:"+o(a)+"%;")},null,4)]))}},Hs={class:"row gx-1 align-items-center justify-content-end"},Js=["title"],Ks=["src"],Os={class:"col text-white text-truncate"},Qs={class:"col-auto"},Ws={class:"badge d-block text-bg-success",style:{width:"55px"}},Xs={__name:"BlockStorage",props:["id","count"],setup(g){const f=g,l=M(),i=r(()=>l.getElem(f.id));return(a,m)=>(t(),e("div",Hs,[o(i).img!=null?(t(),e("div",{key:0,class:"col-auto",title:a.$t(o(i).name)},[s("img",{src:o(i).img,width:"16",height:"16"},null,8,Ks)],8,Js)):b("",!0),s("div",Os,u(a.$t(o(i).name)),1),s("div",Qs,[s("span",Ws,"+"+u(o(B)(g.count)),1)])]))}},Ys={type:"button",class:"btn btn-secondary","data-bs-toggle":"dropdown"},Zs=["src"],st={class:"dropdown-menu p-2",style:{width:"17rem"}},tt={class:"row g-3"},ot={key:0,class:"col-12"},et={class:"row g-1"},nt={class:"col-12"},it={class:"text-subtitle"},ct={key:1,class:"col-12"},lt={class:"row g-1"},at={class:"col-12"},dt={class:"text-subtitle"},_t={__name:"StorerInfo",props:["id"],setup(g){const f=g,l=M(),i=r(()=>l.elems.find(y=>y.id==f.id)),a=r(()=>l.elems.find(y=>y.id==i.value.assign.id)),m=r(()=>l.getCosts(i.value)),$=r(()=>l.getStorages(i.value));return(y,k)=>{const w=j("font-awesome-icon"),p=H,E=Xs;return t(),e(x,null,[s("button",Ys,[o(a).img?(t(),e("img",{key:0,src:o(a).img,width:"18",height:"18"},null,8,Zs)):(t(),I(w,{key:1,icon:"fas fa-info-circle","fixed-width":""}))]),s("div",st,[s("div",tt,[o(m)?(t(),e("div",ot,[s("div",et,[s("div",nt,[s("span",it,u(y.$t("word_costs")),1)]),(t(!0),e(x,null,C(o(m),(n,_)=>(t(),e("div",{key:_,class:"col-12"},[d(p,{id:_,count:n},null,8,["id","count"])]))),128))])])):b("",!0),o($)?(t(),e("div",ct,[s("div",lt,[s("div",at,[s("span",dt,u(y.$t("word_storages")),1)]),(t(!0),e(x,null,C(o($),(n,_)=>(t(),e("div",{key:_,class:"col-12"},[d(E,{id:_,count:n},null,8,["id","count"])]))),128))])])):b("",!0)])])],64)}}},rt={__name:"ItemProd",props:["id"],setup(g){const f=g,l=M(),i=r(()=>l.elems.find(a=>a.id==f.id));return(a,m)=>(t(),e("span",{class:G({"opacity-50":o(i).prod==0,"text-success":o(i).prod>0})},"+ "+u(o(B)(o(i).prod))+" /s",3))}},ut={class:"w-100 h-100 scroll-content"},mt={class:"container p-2"},pt={class:"row g-3"},ht={class:"col-12"},gt={class:"card"},vt={class:"card-header"},ft={class:"row gx-2 align-items-center"},wt={class:"col"},yt={class:"fs-6 text-white"},$t={class:"col-auto"},kt={class:"bg-dark rounded py-1 px-2"},bt={class:"text-white"},xt={class:"card-body"},St={class:"row g-3"},Ct={key:0,class:"col-12"},Mt={class:"row gy-1 gx-4"},Et={class:"col-12"},It={class:"text-subtitle"},Bt={class:"row gx-2 align-items-center"},Lt={class:"col-auto"},Nt={class:"col text-truncate"},jt={class:"text-white"},Pt={class:"col-auto"},Vt={class:"col-auto",style:{width:"65px"}},zt={class:"col-auto"},Ft={key:1,class:"col-12"},Rt={class:"row gy-1 gx-4"},Tt={class:"col-12"},Ut={class:"text-subtitle"},qt={key:0,class:"row gx-2 align-items-center"},At={class:"col-auto position-relative"},Dt={class:"col text-truncate"},Gt={class:"text-white"},Ht={class:"col-auto"},Jt={class:"col-auto"},Kt={class:"input-group"},Ot={key:1,class:"row gx-2 align-items-center"},Qt={class:"col-auto"},Wt={type:"button",class:"btn btn-secondary",disabled:"",style:{width:"40px"}},Xt={class:"col text-truncate"},Yt={class:"opacity-50"},Zt={key:0,class:"col-12"},so={class:"card"},to={class:"card-header"},oo={class:"row gx-2 align-items-center justify-content-center"},eo={class:"col"},no={class:"fs-6 text-white"},io={class:"col-auto"},co={class:"bg-dark rounded py-1 px-2"},lo={class:"text-white"},ao={class:"card-body"},_o={class:"row gy-1 gx-4"},ro={class:"col-12"},uo={class:"text-subtitle"},mo={key:0,class:"ms-2 text-success"},po={key:0,class:"row gx-2 align-items-center"},ho={class:"col-auto position-relative"},go={class:"col text-truncate"},vo={class:"text-white"},fo={class:"col-auto"},wo={class:"col-auto"},yo={class:"input-group"},$o={key:1,class:"row gx-2 align-items-center"},ko={class:"col-auto"},bo={type:"button",class:"btn btn-secondary",disabled:"",style:{width:"40px"}},xo={class:"col text-truncate"},So={class:"opacity-50"},Co={key:0,class:"card-body"},Mo={class:"row gy-1 gx-4"},Eo={class:"col-12"},Io={class:"text-subtitle"},Bo={key:0,class:"ms-2 text-danger"},Lo={class:"row gx-2 align-items-center"},No={class:"col-auto"},jo=["src"],Po=["src"],Vo={class:"col col-lg-auto text-truncate"},zo={class:"text-white"},Fo={class:"col-auto"},Ro={class:"text-danger"},Jo={__name:"[id]",setup(g){const f=ts(),l=os(),i=es(),a=M(),m=r(()=>a.elems.find(n=>n.type=="item"&&n.id==l.params.id)),$=r(()=>a.elems.filter(n=>(i.showLocked?!0:n.unlocked)&&n.type=="storer"&&n.storages[l.params.id])),y=r(()=>a.elems.filter(n=>(i.showLocked?!0:n.unlocked)&&n.type=="manual"&&n.results[l.params.id])),k=r(()=>a.elems.filter(n=>(i.showLocked?!0:n.unlocked)&&n.type=="producer"&&n.outputs[l.params.id])),w=r(()=>{let n=[];return n=n.concat(a.elems.filter(v=>v.unlocked&&v.type=="producer"&&v.inputs&&v.inputs[l.params.id]&&v.assign.count>0)),a.elems.filter(v=>v.unlocked&&v.type=="generator"&&v.count>0).forEach(v=>{a.elems.filter(h=>h.unlocked&&h.type=="manual"&&h.results[v.id]&&h.inputs&&h.inputs[l.params.id]).forEach(h=>{let P={id:v.id,img:v.img,name:v.name,inputs:h.inputs,assign:{count:v.count}};n.push(P)})}),n}),p=r(()=>{let n=0;return k.value.forEach(_=>{n+=_.assign.count*_.outputs[l.params.id]}),n}),E=r(()=>{let n=0;return w.value.forEach(_=>{n+=_.assign.count*_.inputs[l.params.id]}),n});return(n,_)=>{const v=Y,S=vs,h=Rs,P=Ts,J=As,K=Gs,O=as,Q=_t,V=cs,z=_s,F=rs,R=us,T=ls,U=ms,N=j("font-awesome-icon"),W=rt,X=ps,q=hs;return t(),e("div",ut,[s("div",mt,[s("div",pt,[s("div",ht,[s("div",gt,[s("div",vt,[s("div",ft,[s("div",wt,[s("span",yt,u(n.$t("word_count")),1)]),s("div",$t,[s("div",kt,[s("span",bt,[d(v,{id:o(m).id},null,8,["id"]),_[0]||(_[0]=L(" / ")),d(S,{id:o(m).id},null,8,["id"])])])])])]),s("div",xt,[s("div",St,[o(y).length>0?(t(),e("div",Ct,[s("div",Mt,[s("div",Et,[s("span",It,u(n.$t("word_manuals")),1)]),(t(!0),e(x,null,C(o(y),c=>(t(),e("div",{key:c.id,class:"col-12 col-lg-6"},[s("div",Bt,[s("div",Lt,[d(h,{id:c.id,img:o(m).img},null,8,["id","img"])]),s("div",Nt,[s("span",jt,u(n.$t(o(m).name)),1)]),s("div",Pt,[d(P,{id:c.id},null,8,["id"])]),s("div",Vt,[d(J,{id:c.id},null,8,["id"]),d(K,{id:c.id},null,8,["id"])]),s("div",zt,[d(O,{id:c.id,icon:"fas fa-play"},null,8,["id"])])])]))),128))])])):b("",!0),o($).length>0?(t(),e("div",Ft,[s("div",Rt,[s("div",Tt,[s("span",Ut,u(n.$t("word_storers")),1)]),(t(!0),e(x,null,C(o($),c=>(t(),e("div",{key:c.id,class:"col-12 col-lg-6"},[c.unlocked?(t(),e("div",qt,[s("div",At,[d(Q,{id:c.id},null,8,["id"]),d(V,{id:c.assign.id,class:"position-absolute",style:{top:"0",left:"0px"}},null,8,["id"])]),s("div",Dt,[s("span",Gt,[d(z,{id:c.id},null,8,["id"])])]),s("div",Ht,[_[1]||(_[1]=s("small",null,"x",-1)),_[2]||(_[2]=L()),d(F,{id:c.id},null,8,["id"])]),s("div",Jt,[s("div",Kt,[d(R,{id:c.id},null,8,["id"]),d(T,{id:c.id},null,8,["id"]),d(U,{id:c.id},null,8,["id"])])])])):(t(),e("div",Ot,[s("div",Qt,[s("button",Wt,[d(N,{icon:"fas fa-lock","fixed-width":""})])]),s("div",Xt,[s("span",Yt,u(n.$t("word_locked")),1)])]))]))),128))])])):b("",!0)])])])]),o(k).length>0?(t(),e("div",Zt,[s("div",so,[s("div",to,[s("div",oo,[s("div",eo,[s("span",no,u(n.$t("word_prod")),1)]),s("div",io,[s("div",co,[s("span",lo,[d(W,{id:o(m).id},null,8,["id"])])])])])]),s("div",ao,[s("div",_o,[s("div",ro,[s("span",uo,u(n.$t("word_producers")),1),_[3]||(_[3]=L()),o(p)!=0?(t(),e("span",mo,"+ "+u(o(B)(o(p)))+" /s",1)):b("",!0)]),(t(!0),e(x,null,C(o(k),c=>(t(),e("div",{key:c.id,class:"col-12 col-lg-6"},[c.unlocked?(t(),e("div",po,[s("div",ho,[d(X,{id:c.id},null,8,["id"]),d(V,{id:c.assign.id,class:"position-absolute",style:{top:"0",left:"0px"}},null,8,["id"])]),s("div",go,[s("span",vo,[d(z,{id:c.id},null,8,["id"])])]),s("div",fo,[_[4]||(_[4]=s("small",null,"x",-1)),_[5]||(_[5]=L()),d(F,{id:c.id},null,8,["id"])]),s("div",wo,[s("div",yo,[d(R,{id:c.id},null,8,["id"]),d(T,{id:c.id},null,8,["id"]),d(U,{id:c.id},null,8,["id"])])])])):(t(),e("div",$o,[s("div",ko,[s("button",bo,[d(N,{icon:"fas fa-lock","fixed-width":""})])]),s("div",xo,[s("span",So,u(n.$t("word_locked")),1)])]))]))),128))])]),o(w).length>0?(t(),e("div",Co,[s("div",Mo,[s("div",Eo,[s("span",Io,u(n.$t("word_consumers")),1),_[6]||(_[6]=L()),o(E)!=0?(t(),e("span",Bo,"- "+u(o(B)(o(E)))+" /s",1)):b("",!0)]),(t(!0),e(x,null,C(o(w),c=>(t(),e("div",{key:c.id,class:"col-12 col-lg-6"},[s("div",Lo,[s("div",No,[c.mainId?(t(),I(q,{key:0,to:o(f)("/item/"+c.mainId),class:"w-100 btn btn-primary",title:n.$t(c.name)},{default:D(()=>[c.img?(t(),e("img",{key:0,src:c.img,width:"18",height:"18"},null,8,jo)):(t(),I(N,{key:1,icon:"fas fa-info-circle","fixed-width":""}))]),_:2},1032,["to","title"])):(t(),I(q,{key:1,to:o(f)("/buildings/"),class:"w-100 btn btn-primary",title:n.$t(c.name)},{default:D(()=>[c.img?(t(),e("img",{key:0,src:c.img,width:"18",height:"18"},null,8,Po)):(t(),I(N,{key:1,icon:"fas fa-info-circle","fixed-width":""}))]),_:2},1032,["to","title"]))]),s("div",Vo,[s("span",zo,u(n.$t(c.name)),1)]),s("div",Fo,[s("span",Ro,"- "+u(o(B)(c.assign.count*c.inputs[o(m).id]))+" /s",1)])])]))),128))])])):b("",!0)])])):b("",!0)])])])}}};export{Jo as default};
